


import{r as u,a1 as M,o as F,S as q,x as t,b7 as ee,ao as ye,aq as T,l as V,P as le,J as X,a4 as a,a5 as h,cV as Dt,cW as ut,cX as Gn,g as Ce,a8 as we,B as Mt,cY as K,C as Xn,m as Bt,b5 as zt,b4 as Ut,cO as Vt,cP as Ht,cj as Yn,ad as qt,cZ as Qn,b2 as Kn,b1 as Zn,a_ as Jn,Q as eo,Z as ke,Y as $t,F as Gt,aa as Xt,c_ as to,c$ as no,d0 as oo,ae as Yt}from"./vendor-35db3a09.js";import{e as ne,bj as io,ax as so,o as ro,bW as ao,bX as lo,m as Te,aJ as co,bY as Qt,bZ as uo,a as po,aV as xo,b_ as mo,b$ as ho,c0 as fo,c1 as go,c2 as yo,c3 as de,ae as ie,c4 as bo,c5 as wo,a_ as he,c6 as jo,c7 as Co,c8 as To,c9 as pt,ca as Kt,cb as So,cc as vo,aW as k,cd as Io,ce as Ao,cf as _o,cg as ko,ch as Eo,ci as No,cj as Oo,ck as Po,cl as Ro,cm as Wo,cn as Lo,co as Fo,ac as Xe,cp as Do,cq as Mo,cr as Bo,cs as zo,ct as Uo,cu as Zt,cv as Vo,cw as Ho,cx as qo,cy as $o,cz as xe,cA as Z,U as O,cB as Ye,cC as Go,cD as Xo,a7 as Jt,cE as en,cF as tn,cG as Yo,a4 as nn,cH as Qo,a$ as on,cI as Ko,cJ as sn,T as J,bq as A,bN as Zo,cK as Q,cL as Jo,cM as ei,aj as rn,cN as Ee,cO as Ne,a0 as ti,a2 as Oe,aZ as an,a5 as xt,cP as ln,cQ as cn,i as dn,a3 as Qe,cR as ni,b5 as oi,g as ii,bk as si,cS as ri,bm as un,cT as Ke,cU as ai,cV as li,cW as ci,aX as Ze,ad as di,c as fe,d as pn,av as ui,cX as xn,cY as pi,cZ as xi,aH as mn,c_ as mi,c$ as hn,d0 as hi,bU as fi,bV as gi,h as fn,bS as yi,f as bi,Z as wi,B as ji,N as Ci,bu as Ti,bv as Si,d1 as vi,d2 as Ii,d3 as Ai,d4 as _i,H as ki,al as Je,d5 as gn,d6 as Ei,d7 as Ni,an as Oi,$ as mt,d8 as Pi,d9 as Ri,da as Wi,a1 as ht,b as yn,db as Li,dc as Fi,dd as be,de as Di,ag as Mi,df as Bi,dg as zi,dh as Ui,di as Vi,dj as Hi,dk as qi,dl as $i}from"./index-a8951d67.js";const ft="_";function sl(e={}){const{chainId:n}=ne(),o=io(),{inputCurrencyAmount:i,outputCurrencyAmount:s}=so()?.state||{},r=ro(),l=ao(),{inputCurrencyId:d,outputCurrencyId:c}=o?.state||{},p=o?.updateState;return u.useCallback(()=>{p&&(r||(lo(),p({inputCurrencyId:c,outputCurrencyId:d,inputCurrencyAmount:Te.serializeFractionToJSON(s),outputCurrencyAmount:Te.serializeFractionToJSON(i),...e})),l(n,{inputCurrencyId:c||ft,outputCurrencyId:d||ft}))},[p,r,l,n,d,c,i,s,e])}function rl(e){const n=M(co),o=M(Qt),i=uo({amount:e,updateTradeQuote:n,updateState:o});u.useEffect(()=>{i.updateTradeQuote({response:null,error:null}),i.updateState({amount:i.amount})},[i])}function Gi(){const e=po(),{amount:n}=F(Qt),o=e.response?.quote.feeAmount,i=u.useMemo(()=>!n||!o?null:q.fromRawAmount(n?.currency,o),[n,o]);return xo(i).value}function al({id:e,handleUnlock:n,buttonText:o,orderType:i,buttonLink:s,items:r,title:l,subtitle:d}){return t.jsxs(mo,{children:[t.jsxs(ho,{children:[t.jsx("h3",{children:l}),t.jsx("strong",{children:d})]}),r&&t.jsx(fo,{children:r.map(({isNew:c,content:p},x)=>t.jsxs("li",{"data-is-new":c||null,children:[t.jsx("span",{children:t.jsx(ee,{src:go})})," ",p]},x))}),t.jsxs(yo,{children:[s&&t.jsxs("span",{children:["Learn more about ",t.jsxs(de,{href:s,children:[i," orders â†—"]})]}),t.jsx(ie,{id:`unlock-${e}-btn`,onClick:n,children:o})]})]})}function ll({title:e,tooltip:n,value:o,toggle:i,disabled:s=!1}){const r=u.useContext(ye);return t.jsxs(bo,{disabled:s,children:[t.jsxs(wo,{children:[t.jsx(T,{id:"pDgeaz",values:{title:e}}),t.jsx(he,{bgColor:r.grey1,color:r.text1,text:t.jsx(T,{id:"ZDJ+6I",values:{tooltip:n}})})]}),t.jsx(jo,{isActive:o,toggle:i})]})}function gt(e){const{id:n,currencyInfo:o,className:i,priceImpactParams:s}=e,{balance:r,fiatAmount:l,amount:d}=o,c=o.label,p=d?.currency;return t.jsx(t.Fragment,{children:t.jsxs(Co,{id:n,className:i,withReceiveAmountInfo:!1,pointerDisabled:!1,readOnly:!1,children:[c&&t.jsx(To,{children:c}),t.jsxs(pt,{children:[t.jsx("div",{children:t.jsx(Kt,{currency:p,loading:!1,readonlyMode:!0})}),t.jsx("div",{children:t.jsx(So,{className:"token-amount-input",amount:d})})]}),t.jsxs(pt,{children:[t.jsx("div",{children:r&&t.jsx(t.Fragment,{children:t.jsxs(vo,{children:[t.jsx(T,{id:"fsBGk0"}),": ",t.jsx(k,{amount:r,defaultValue:"0",tokenSymbol:p})]})})}),t.jsx("div",{children:t.jsx(Io,{children:t.jsx(Ao,{fiatValue:l,priceImpactParams:s})})})]})]})})}const Xi=`Almost there! 
 Follow these steps:`,Yi="order",Qi="The order is submitted and ready to be settled.";function Ki({pendingTrade:e,onDismiss:n}){const{inputAmount:o,outputAmount:i}=e,s=_o(),r=ko(),l=t.jsxs(t.Fragment,{children:["Placing an order ",t.jsx(k,{amount:o,tokenSymbol:o?.currency})," for"," ",t.jsx(k,{amount:i,tokenSymbol:i?.currency})]});return t.jsx(Eo,{onDismiss:n,walletAddress:s,statusIcon:r,title:l,description:Xi,operationLabel:Yi,operationSubmittedMessage:Qi})}function Zi(){const e=M(No),n=M(Oo),o=M(Po),i=M(Ro),s=M(Wo);return{onSign(r){i(r)},onError(r){o(r)},onSuccess(r){s(r)},onOpen(){e()},onDismiss(){n()}}}function cl(e){const{children:n}=e,{chainId:o,account:i}=ne(),s=Lo(),{isOpen:r,pendingTrade:l,transactionHash:d,error:c}=F(Fo),{onDismiss:p}=Zi();return i?t.jsx(Xe,{isOpen:r,onDismiss:p,children:(()=>c?t.jsx(Do,{message:c,onDismiss:p}):l?t.jsx(Ki,{pendingTrade:l,onDismiss:p}):d?t.jsx(Mo,{chainId:o,account:i,isSafeWallet:s,onDismiss:p,hash:d}):n)()}):null}function dl(e){const{onConfirm:n,onDismiss:o,inputCurrencyInfo:i,outputCurrencyInfo:s,isConfirmDisabled:r,priceImpact:l,title:d,buttonText:c="Confirm",children:p}=e,x=i.amount?.toExact(),m=s.amount?.toExact(),{isPriceChanged:f,resetPriceChanged:g}=Ji(x,m),y=r||f;return t.jsxs(Bo,{children:[t.jsxs(zo,{children:[t.jsx(Uo,{children:d}),t.jsx(Zt,{onClick:o})]}),t.jsxs(Vo,{id:"trade-confirmation",children:[t.jsx(gt,{id:"input-currency-preview",currencyInfo:i}),t.jsx(Ho,{withRecipient:!1,children:t.jsx(qo,{withRecipient:!1,isCollapsed:!1,isLoading:!1,hasSeparatorLine:!0,onSwitchTokens:()=>null})}),t.jsx(gt,{id:"output-currency-preview",currencyInfo:s,priceImpactParams:l}),p,f&&t.jsx($o,{onClick:g}),t.jsx(ie,{onClick:n,disabled:y,buttonSize:xe.BIG,children:t.jsx(T,{id:"bRTge7",values:{buttonText:c}})})]})]})}function Ji(e,n){const o=u.useRef(),[i,s]=u.useState(!1),r=u.useCallback(()=>{o.current={inputAmount:e,outputAmount:n},s(!1)},[e,n]);return u.useEffect(()=>{r()},[]),u.useEffect(()=>{o.current&&(e!==o.current.inputAmount||n!==o.current.outputAmount)&&s(!0)},[e,n]),{isPriceChanged:i,resetPriceChanged:r}}function es(e){const n=V(null,(o,i,s)=>{i(e,()=>({...o(e),...s}))});return{atom:e,updateAtom:n}}function ts({reference:e,value:n}){if(!n||!e||e.equalTo(Z))return;const o=n.divide(e);return new le(o.numerator,o.denominator)}function ul(e,n){return X.multiply(X.BigInt(e),X.exponentiate(X.BigInt(10),X.BigInt(n)))}const ns=a.div.withConfig({displayName:"RateTooltipHeader__Content",componentId:"sc-aq2a60-0"})(["display:flex;flex-flow:column wrap;align-items:center;justify-content:center;width:100%;padding:5px 10px;> p{font-size:13px;font-weight:400;line-height:1.5;padding:0;margin:0;color:var(",");}> h3{font-size:14px;font-weight:600;margin:21px 0 0;padding:0;text-align:left;width:100%;}"],O.COLOR_TEXT1);function Le({isOpenOrdersTab:e}){return t.jsxs(ns,{children:[t.jsx("p",{children:"Fees (incl. gas) are covered by filling your order when the market price is better than your limit price."}),e&&t.jsxs(t.Fragment,{children:[t.jsx("h3",{children:"How close is my order to executing?"}),t.jsx(bn,{})]})]})}const os=a.ol.withConfig({displayName:"OrderExecutionStatusList__StatusList",componentId:"sc-ur7lp5-0"})(["display:flex;flex-flow:row wrap;list-style:none;font-size:12px;font-weight:400;gap:5px;padding:0;> li{display:flex;gap:5px;align-items:center;width:100%;}"]),is=new le(5,1e3),ss=new le(5,100);function rs(e){if(e)return e.lessThan(is)?"veryClose":e.greaterThan(ss)?"notClose":"close"}const je=a.div.withConfig({displayName:"OrderExecutionStatusList__ExecuteIndicator",componentId:"sc-ur7lp5-1"})(["--size:6px;width:var(--size);height:var(--size);min-width:var(--size);min-height:var(--size);border-radius:var(--size);display:block;margin:0 3px 0 0;background:",";"],({status:e,theme:n})=>{switch(e){case"veryClose":return n.success;case"close":return n.text3;case"notClose":default:return h(.5,n.text1)}});function bn(){return t.jsxs(os,{children:[t.jsxs("li",{children:[t.jsx(je,{status:"veryClose"})," ",t.jsx("b",{children:"Very close"})," (<0.5% from market price)"]}),t.jsxs("li",{children:[t.jsx(je,{status:"close"})," ",t.jsx("b",{children:"Close"})," (0.5% - 5% from market price)"]}),t.jsxs("li",{children:[t.jsx(je,{status:"notClose"})," ",t.jsx("b",{children:"Not yet close"})," (>5% from market price)"]})]})}const Se={id:"open",title:"Open orders",count:0},as={id:"history",title:"Orders history",count:0},wn=[Se,as],Y=10;function ls(){const e=M(Ye),n=Go(Xo.MULTIPLE_CANCELLATION);return u.useCallback(o=>{e(o),n()},[n,e])}const cs=a.div.withConfig({displayName:"MultipleCancellationMenu__Wrapper",componentId:"sc-1lronfx-0"})(["display:flex;flex-flow:row wrap;align-items:center;justify-content:space-between;gap:6px;margin-left:",";margin:0 10px 0 0;",""],({hasSelectedItems:e})=>e?"":"auto",({theme:e})=>e.mediaWidth.upToSmall`
    width: 100%;
    justify-content: center;
    margin: 15px auto 0;
  `),ds=a.button.withConfig({displayName:"MultipleCancellationMenu__ActionButton",componentId:"sc-1lronfx-1"})(["display:inline-flex;background:",";color:",";font-weight:600;text-decoration:none;font-size:13px;padding:10px 15px;margin:0;gap:5px;border:0;outline:none;cursor:pointer;transition:background 0.15s ease-in-out,color 0.2s ease-in-out;border-radius:24px;vertical-align:center;&:hover:not([disabled]){background:",";}&[disabled]{background:transparent;outline:1px solid ",";}"],({theme:e})=>h(.86,e.danger),({theme:e})=>e.danger,({theme:e})=>h(.75,e.danger),({theme:e})=>h(.88,e.text3)),jn=a.button.withConfig({displayName:"MultipleCancellationMenu__TextButton",componentId:"sc-1lronfx-2"})(["display:inline-block;color:var(",");font-size:13px;padding:5px 10px;cursor:pointer;background:none;outline:none;border:none;text-decoration:underline;&:hover{text-decoration:none;}"],O.COLOR_TEXT1),us=a(jn).withConfig({displayName:"MultipleCancellationMenu__CancelAllButton",componentId:"sc-1lronfx-3"})(["text-decoration:none;&:hover{color:",";text-decoration:underline;}"],({theme:e})=>e.danger);function ps({pendingOrders:e}){const{allowsOffchainSigning:n}=Jt(),o=F(en),i=M(Ye),s=ls(),r=o.length||0,l=u.useCallback(()=>{s(e)},[s,e]),d=u.useCallback(()=>{s(o)},[o,s]),c=u.useCallback(()=>{i([])},[i]);return u.useEffect(()=>{c()},[]),e.filter(tn).length===0||!n?null:t.jsx(cs,{hasSelectedItems:!!r,children:r?t.jsxs(t.Fragment,{children:[t.jsxs(ds,{onClick:d,children:[t.jsx(Dt,{size:14})," Cancel ",r," selected"]}),t.jsx(jn,{onClick:c,children:"Clear selection"})]}):t.jsx(us,{onClick:l,children:"Cancel all"})})}function Be(e){const n=q.fromRawAmount(e.inputToken,e.feeAmount.toString());return q.fromRawAmount(e.inputToken,e.sellAmount.toString()).add(n)}const xs=a.div.withConfig({displayName:"styled__Wrapper",componentId:"sc-qdfv03-0"})(["background:",";width:100%;margin:0 0 14px;overflow-y:auto;",";",""],({theme:e})=>e.bg1,({theme:e})=>e.colorScrollbar,({theme:e})=>e.mediaWidth.upToSmall`
    overflow-y: auto;
    overflow-x: auto;
    padding: 0;
    max-height: 100vh;
    margin: 0;
  `),ms=a.div.withConfig({displayName:"styled__Header",componentId:"sc-qdfv03-1"})(["display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:0 16px 16px;background:",";position:sticky;top:0;left:0;width:100%;padding:16px;z-index:20;"],({theme:e})=>e.bg1),hs=a.h3.withConfig({displayName:"styled__Title",componentId:"sc-qdfv03-2"})(["font-size:16px;margin:0;"]),fs=a(Yo).withConfig({displayName:"styled__Body",componentId:"sc-qdfv03-3"})(["box-sizing:border-box;max-height:80vh;padding:0 10px;",""],({theme:e})=>e.mediaWidth.upToSmall`
    max-height: 100%;
  `),gs=a.div.withConfig({displayName:"styled__FieldsWrapper",componentId:"sc-qdfv03-4"})(["display:flex;flex-flow:column wrap;width:100%;gap:2px;",""],({theme:e})=>e.mediaWidth.upToSmall`
    padding: 0 0 54px;
  `),ys=a.div.withConfig({displayName:"styled__InfoBannerWrapper",componentId:"sc-qdfv03-5"})(["margin:12px;"]),L=a.div.withConfig({displayName:"styled__Field",componentId:"sc-qdfv03-6"})(["display:flex;flex-flow:row wrap;justify-content:space-between;align-items:center;padding:12px 16px;background:",";width:100%;font-size:13px;&:first-child{border-radius:16px 16px 0 0;}&:last-child{border-radius:0 0 16px 16px;}"],({theme:e})=>e.grey1),bs=a.div.withConfig({displayName:"styled__CurrencyField",componentId:"sc-qdfv03-7"})(["display:flex;flex-flow:row wrap;flex-direction:column;align-items:flex-start;padding:16px;background:",";width:100%;border-radius:16px;margin:0 0 10px;gap:10px;> b{font-size:13px;font-weight:600;}> div{display:flex;flex-direction:row;justify-content:space-between;align-items:center;width:100%;& .open-currency-select-button{","}}"],({theme:e})=>e.grey1,({theme:e})=>e.mediaWidth.upToSmall`
        width: auto;
    `),ws=a.span.withConfig({displayName:"styled__CurrencyValue",componentId:"sc-qdfv03-8"})(["font-size:26px;font-weight:600;"]),js=a.span.withConfig({displayName:"styled__LabelText",componentId:"sc-qdfv03-9"})(["opacity:0.8;"]),Cs=a.div.withConfig({displayName:"styled__Label",componentId:"sc-qdfv03-10"})(["display:flex;gap:4px;align-items:center;> div > div{padding:0 !important;}"]),G=a.div.withConfig({displayName:"styled__Value",componentId:"sc-qdfv03-11"})(["flex:1;display:flex;flex-direction:column;align-items:flex-end;gap:12px 6px;padding:0 0 0 12px;text-align:right;line-height:1.4;font-weight:500;"]),ve=a.div.withConfig({displayName:"styled__InlineWrapper",componentId:"sc-qdfv03-12"})(["display:flex;flex-flow:row wrap;align-items:center;justify-content:flex-end;gap:6px;width:100%;"]),Ts=a.span.withConfig({displayName:"styled__Surplus",componentId:"sc-qdfv03-13"})(["color:",";"],({theme:e})=>e.success),Ss=a.div.withConfig({displayName:"styled__RateValue",componentId:"sc-qdfv03-14"})([""]),vs=a.span.withConfig({displayName:"styled__OrderTypeValue",componentId:"sc-qdfv03-15"})(["&:first-letter{text-transform:uppercase;}"]);function yt({label:e,token:n,amount:o}){return t.jsxs(bs,{title:o?.toExact(),children:[t.jsx("b",{children:e}),t.jsxs("div",{children:[t.jsx(Kt,{readonlyMode:!0,loading:!1,currency:n}),t.jsx(ws,{children:t.jsx(k,{amount:o})})]})]})}function ze(e,n=1e3){const[o,i]=u.useState("");return u.useEffect(()=>{if(e)i(ut(e));else{i("");return}const s=setInterval(()=>{i(ut(e))},n);return()=>clearInterval(s)},[e,n]),o}function bt({date:e}){const n=ze(e),o=Gn(e||0,"MMM d YYY, h:mm a");return t.jsx(G,{children:e?t.jsxs(ve,{children:[t.jsx("strong",{children:n}),t.jsxs("span",{children:["(",o,")"]})]}):"-"})}function Is({order:e}){const{inputToken:n}=e,{executedFeeAmount:o,executedSurplusFee:i}=e.executionData;if(!n)return t.jsx(G,{});const s=q.fromRawAmount(n,(i??o)||0),r=n.symbol;return t.jsx(G,{children:!r||!s?t.jsx("span",{children:"-"}):t.jsx("span",{children:t.jsx(k,{amount:s,tokenSymbol:n})})})}function R({label:e,tooltip:n,prefix:o}){return t.jsxs(Cs,{children:[o,t.jsx(js,{children:e}),n&&t.jsx(nn,{content:n})]})}const As="/assets/safe-logo-913894d2.svg",_s=a.img.withConfig({displayName:"SafeTxFields__SafeIcon",componentId:"sc-s4oziv-0"})(["margin-right:5px;"]);function ks(e){const{chainId:n,safeAddress:o,safeTxHash:i,nonce:s,confirmationsRequired:r,confirmations:l}=e,d={safe:o,safeTxHash:i},c=t.jsx(_s,{src:As,alt:"Safe logo"});return t.jsxs(t.Fragment,{children:[t.jsxs(L,{children:[t.jsx(R,{label:"Safe transaction",tooltip:"The hash for this Safe transaction.",prefix:c}),t.jsxs("div",{children:[t.jsx("span",{children:i.slice(0,8)})," "," - ",t.jsx(Qo,{chainId:n,safeTransaction:d})]})]}),t.jsxs(L,{children:[t.jsx(R,{label:"Safe nonce",tooltip:'Safe contracts have a so-called "nonce." This is to ensure that each transaction can be executed only once so no replay attacks are possible.',prefix:c}),t.jsx("span",{children:s})]}),t.jsxs(L,{children:[t.jsx(R,{label:"Safe confirmed signatures",tooltip:"The number of signers who have confirmed this transaction versus the number of signer confirmations needed.",prefix:c}),t.jsxs("span",{children:[l," / ",r]})]})]})}const et=a.button.withConfig({displayName:"styled__WarningIndicator",componentId:"sc-1efn5ld-0"})(["--height:28px;margin:0;background:",";color:",";line-height:0;border:0;padding:0 5px;width:auto;height:var(--height);border-radius:0 9px 9px 0;svg > path{fill:",";}"],({theme:e,hasBackground:n=!0})=>n?e.darkMode?h(.9,e.alert):h(.85,e.alert):"transparent",({theme:e})=>e.alert,({theme:e})=>e.alert),Cn=a.div.withConfig({displayName:"styled__WarningContent",componentId:"sc-1efn5ld-1"})(["max-width:270px;padding:10px;color:",";h3,p{margin:0;line-height:1.2;}h3{margin-bottom:8px;}"],({theme:e})=>e.black),Tn=a.div.withConfig({displayName:"styled__WarningParagraph",componentId:"sc-1efn5ld-2"})(["margin-bottom:20px;:last-child{margin-bottom:0;}"]),Es=a.span.withConfig({displayName:"styled__RateValue",componentId:"sc-1efn5ld-3"})([""]),Ns=a.div.withConfig({displayName:"styled__StatusBox",componentId:"sc-1efn5ld-4"})(["display:flex;align-items:center;width:100%;"]),Os=a.div.withConfig({displayName:"styled__AmountItem",componentId:"sc-1efn5ld-5"})(["display:flex;align-items:center;gap:6px;white-space:nowrap;",";> div{display:flex;align-items:center;}> span{white-space:normal;word-break:break-all;max-width:150px;display:inline;}> span > span{color:",";}"],({theme:e})=>e.mediaWidth.upToSmall`
    white-space: normal;
  `,({theme:e})=>h(.3,e.text1)),ce=a.div.withConfig({displayName:"styled__CellElement",componentId:"sc-1efn5ld-6"})(["padding:0 ",";font-size:12px;font-weight:500;gap:5px;height:100%;display:flex;flex-direction:row;align-items:",";text-align:left;background:",";cursor:",";> b{font-weight:500;}"," ","{font-weight:500;font-size:12px;white-space:normal;word-break:break-all;}"],({hasBackground:e})=>e?"10px":"0",({doubleRow:e})=>e?"flex-start":"center",({theme:e,hasBackground:n})=>n?h(.92,e.text3):"transparent",({clickable:e})=>e?"pointer":"",({doubleRow:e})=>e&&`
    flex-flow: column wrap;
    justify-content: center;
    gap: 2px;

    > i {
      opacity: 0.6;
    }
  `,on),Fe=a(ce).withConfig({displayName:"styled__PriceElement",componentId:"sc-1efn5ld-7"})(["cursor:pointer;"]),Ps=a.div.withConfig({displayName:"styled__CurrencyLogoPair",componentId:"sc-1efn5ld-8"})(["display:flex;cursor:",";> img,> svg{border:2px solid ",";}> img:last-child,> svg:last-child{margin:0 0 0 -14px;}"],({clickable:e})=>e?"pointer":"initial",({theme:e})=>e.grey1),Rs=a.div.withConfig({displayName:"styled__CurrencyCell",componentId:"sc-1efn5ld-9"})(["display:flex;flex-flow:row wrap;align-items:center;gap:6px;font-size:12px;font-weight:500;cursor:",";&:hover{span{text-decoration:",";}}"],({clickable:e})=>e?"pointer":"",({clickable:e})=>e?"underline":""),Ws=a.div.withConfig({displayName:"styled__CurrencyAmountWrapper",componentId:"sc-1efn5ld-10"})(["display:flex;cursor:",";flex-flow:column wrap;gap:2px;"],({clickable:e})=>e?"pointer":"initial"),Ls=a.div.withConfig({displayName:"styled__ProgressBarWrapper",componentId:"sc-1efn5ld-11"})(["width:100%;max-width:50%;align-items:center;flex-flow:row nowrap;gap:8px;flex-direction:row-reverse;padding:0 0;font-size:12px;font-weight:500;height:100%;display:flex;text-align:left;background:transparent;justify-content:center;> b{line-height:1;}"]),Sn=a.div.withConfig({displayName:"styled__ProgressBar",componentId:"sc-1efn5ld-12"})(["position:relative;margin:0;height:5px;width:100%;background:",";border-radius:6px;&::before{content:'';position:absolute;height:100%;width:","%;background:",";border-radius:5px;}"],({theme:e})=>e.darkMode?e.bg1:h(.92,e.text1),({value:e})=>e,({theme:e})=>e.text3),Fs=a.div.withConfig({displayName:"styled__ExecuteCellWrapper",componentId:"sc-1efn5ld-13"})(["width:100%;display:flex;align-items:center;gap:4px;"]),Ds=a.div.withConfig({displayName:"styled__ExecuteInformationTooltip",componentId:"sc-1efn5ld-14"})(["display:flex;flex-flow:row wrap;padding:0;margin:0;"]),Ms=a.div.withConfig({displayName:"styled__ToggleExpandButton",componentId:"sc-1efn5ld-15"})(["display:flex;align-items:center;justify-content:space-between;border-radius:9px;width:100%;height:28px;background:linear-gradient(90deg,transparent 0%,"," 100%);background-size:200% 100%;background-position:100% 0;border:1px solid ",";padding:0 6px 0 10px;cursor:pointer;transition:background 0.5s ease-in-out;&:hover{animation:gradientMove 3s linear infinite;}@keyframes gradientMove{0%{background-position:100% 0;}50%{background-position:0 0;}100%{background-position:100% 0;}}@keyframes changeOpacity{0%{background:linear-gradient(90deg,transparent 0%,"," 100%);}50%{background:linear-gradient(90deg,transparent 0%,"," 100%);}100%{background:linear-gradient(90deg,transparent 0%,"," 100%);}}> i{font-style:normal;font-size:12px;font-weight:600;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}> button{--size:17px;display:flex;align-items:center;justify-content:center;background:transparent;border:0;padding:0;margin:0 0 0 6px;cursor:pointer;outline:none;color:var(",");transition:color 0.2s ease-out;position:relative;height:var(--height);transition:all 0.3s;width:var(--size);height:var(--size);min-width:var(--size);min-height:var(--size);line-height:1;background:transparent;border:1px solid ",";border-radius:6px;user-select:none;}> button::before,> button::after{content:'';transform:rotate(0);top:7px;inset-inline-end:3px;inset-inline-start:3px;height:1px;position:absolute;background:currentcolor;transition:transform 0.5s ease-in-out;}> button::after{transform:",";}"],({theme:e})=>h(.7,e.bg1),({theme:e})=>h(.8,e.text1),({theme:e})=>e.bg1,({theme:e})=>h(.1,e.bg1),({theme:e})=>h(.5,e.bg1),O.COLOR_TEXT1,({theme:e})=>h(.8,e.text1),({isCollapsed:e})=>e?"rotate(90deg)":"rotate(0deg)");function Bs({order:e}){const{executionData:{filledPercentage:n,filledPercentDisplay:o,fullyFilled:i}}=e,{action:s,mainAmount:r,formattedFilledAmount:l,formattedSwappedAmount:d}=Ko(e),c=n?.gt(0);return t.jsxs(G,{children:[t.jsx(ve,{children:t.jsxs(Ls,{children:[t.jsxs("b",{children:[o,"%"]}),t.jsx(Sn,{value:o||0})]})}),t.jsx(ve,{children:t.jsxs("span",{children:[t.jsx("b",{children:t.jsx(k,{amount:l,tokenSymbol:l.currency})})," ",!i&&t.jsxs(t.Fragment,{children:["of"," ",t.jsx("b",{children:t.jsx(k,{amount:r,tokenSymbol:r?.currency})})," "]}),s," ",c&&t.jsxs(t.Fragment,{children:["for a total of"," ",t.jsx("b",{children:t.jsx(k,{amount:d,tokenSymbol:d.currency})})]})]})})]})}function zs({id:e,chainId:n}){const o=sn(n,"transaction",e);return t.jsx(G,{children:t.jsxs(de,{href:o||"",children:[t.jsx("span",{children:e.slice(0,8)}),t.jsx("span",{children:"â†—"})]})})}function Us({order:e}){return t.jsx(G,{children:t.jsxs(vs,{children:[e.class," ",e.kind," order ",e.partiallyFillable?"(Partially fillable)":"(Fill or Kill)"]})})}function De({order:e,price:n}){return t.jsx(G,{children:n?t.jsxs(Ss,{children:["1 ",t.jsx(J,{token:e.inputToken})," = ",t.jsx(k,{amount:n,tokenSymbol:e.outputToken})]}):"-"})}const Me={[A.PENDING]:"Open",[A.PRESIGNATURE_PENDING]:"Signing",[A.FULFILLED]:"Filled",[A.EXPIRED]:"Expired",[A.CANCELLED]:"Cancelled",[A.CREATING]:"Creating",[A.FAILED]:"Failed",[A.SCHEDULED]:"Scheduled"};function Vs(e,n){return e.executionData.fullyFilled||e.status===A.FULFILLED?{title:Me[A.FULFILLED],color:n.success}:Zo(e)?e.executionData.partiallyFilled?{title:"Partially Filled",color:n.success}:{title:Me[e.status],color:e.status===A.EXPIRED?n.warning:n.danger}:e.isCancelling?{title:"Cancelling...",color:n.text1}:{title:Me[e.status],color:e.status===A.PENDING?n.text3:n.text1}}const Hs=a.div.withConfig({displayName:"OrderStatusBox__Wrapper",componentId:"sc-1m3ze2z-0"})(["--height:28px;--statusColor:",";display:flex;align-items:center;justify-content:center;color:var(--statusColor);padding:0 10px;position:relative;z-index:2;font-size:12px;font-weight:600;height:var(--height);width:",";cursor:",";&::before{content:'';position:absolute;height:100%;width:100%;display:block;left:0;top:0;background:var(--statusColor);opacity:0.14;z-index:1;border-radius:",";}"],({color:e})=>e,({widthAuto:e})=>e?"auto":"100%",({clickable:e})=>e?"pointer":"",({withWarning:e})=>e?"9px 0 0 9px":"9px");function vn({order:e,widthAuto:n,withWarning:o,onClick:i}){const s=u.useContext(ye),{title:r,color:l}=Vs(e,s);return t.jsx(Hs,{color:l,widthAuto:n,withWarning:o,clickable:!!i,onClick:i,children:r})}function qs({order:e}){return t.jsx(G,{children:t.jsx(vn,{order:e,widthAuto:!0})})}function $s({order:e}){const{kind:n,inputToken:o,outputToken:i}=e,{surplusAmount:s,surplusPercentage:r}=e.executionData,l=n===Ce.OrderKind.SELL?i:o;if(!l||!s||s?.isZero())return t.jsx(G,{children:"-"});const d=q.fromRawAmount(l,s?.decimalPlaces(0).toFixed()),c=r?.multipliedBy(100)?.toFixed(2);return t.jsx(G,{title:`${d.toExact()} ${l.symbol}`,children:t.jsxs(ve,{children:[t.jsxs(Ts,{children:["+",c,"%"]}),t.jsx("span",{children:t.jsx(k,{amount:d,tokenSymbol:l})})]})})}const $={LIMIT_PRICE:"You will receive this price or better for your tokens.",EXECUTION_PRICE:"An orderâ€™s actual execution price will vary based on the market price and network fees.",EXECUTES_AT:"Fees (incl. gas) are covered by filling your order when the market price is better than your limit price.",FILLED:t.jsxs("span",{children:["How much of the order has been filled.",t.jsx("br",{}),"Market orders are always ",t.jsx("i",{children:"Fill or kill"}),", while limit orders are by default ",t.jsx("i",{children:"Partially fillable"}),", but can also be changed to ",t.jsx("i",{children:"Fill or kill"})," through your order settings."]}),SURPLUS:"The amount of extra tokens you get on top of your limit price.",FEE:"CoW Protocol covers the fees by executing your order at a slightly better price than your limit price.",CREATED:"Your order was created on this date & time. It will remain open until it expires or is filled.",RECEIVER:"The account address which will/did receive the bought amount.",EXPIRY:"If your order has not been filled by this date & time, it will expire. Don't worry - expirations and order placement are free on CoW Swap!",ORDER_TYPE:t.jsxs("span",{children:["Orders on CoW Swap can either be market orders (which fill at the market price within the slippage tolerance you set) or limit orders (which fill at a price you specify).",t.jsx("br",{}),t.jsx("br",{}),"Market orders are always ",t.jsx("i",{children:"Fill or kill"}),", while limit orders are by default ",t.jsx("i",{children:"Partially fillable"}),", but can also be changed to ",t.jsx("i",{children:"Fill or kill"})," through your order settings."]})},Gs=new Set([A.PENDING,A.FULFILLED,A.EXPIRED]);function Xs({isOpen:e,onDismiss:n,order:o,twapOrder:i,isTwapPartOrder:s,chainId:r,buyAmount:l,limitPrice:d,executionPrice:c,estimatedExecutionPrice:p,receiverEnsName:x}){if(!o||!r)return null;const m=s&&Gs.has(o.status),f=o.kind===Ce.OrderKind.SELL?"You sell":"You sell at most",g=o.kind===Ce.OrderKind.SELL?"You receive at least":"You receive exactly",y=i?.safeTxParams;return t.jsx(Xe,{onDismiss:n,isOpen:e,children:t.jsxs(xs,{children:[t.jsxs(ms,{children:[t.jsx(hs,{children:"Order Receipt"}),t.jsx(Zt,{onClick:()=>n()})]}),i&&t.jsx(ys,{children:t.jsx(Q,{type:"information",children:t.jsx("p",{children:s?`Part of a ${i.order.n}-part TWAP order split`:`TWAP order split into ${i.order.n} parts`})})}),t.jsxs(fs,{children:[t.jsx(yt,{amount:Be(o),token:o.inputToken,label:f}),t.jsx(yt,{amount:l,token:o.outputToken,label:g}),t.jsxs(gs,{children:[t.jsxs(L,{children:[t.jsx(R,{label:"Status"}),t.jsx(qs,{order:o})]}),o.receiver&&t.jsxs(L,{children:[t.jsx(R,{label:"Recipient",tooltip:$.RECEIVER}),t.jsx("div",{children:t.jsx(de,{href:Jo(r,o.receiver,ei.ADDRESS),children:x||rn(o.receiver)})})]}),t.jsxs(L,{children:[t.jsx(R,{label:"Limit price",tooltip:$.LIMIT_PRICE}),t.jsx(De,{order:o,price:d})]}),(!i||s)&&t.jsx(L,{children:p&&o.status===A.PENDING?t.jsxs(t.Fragment,{children:[t.jsx(R,{label:"Executes at",tooltip:$.EXECUTES_AT}),t.jsx(De,{order:o,price:p})]}):t.jsxs(t.Fragment,{children:[t.jsx(R,{label:o.partiallyFillable?"Avg. execution price":"Execution price",tooltip:$.EXECUTION_PRICE})," ",t.jsx(De,{order:o,price:c})]})}),(!i||s)&&t.jsxs(t.Fragment,{children:[t.jsxs(L,{children:[t.jsx(R,{label:"Filled",tooltip:$.FILLED}),t.jsx(Bs,{order:o})]}),t.jsxs(L,{children:[t.jsx(R,{label:"Order surplus",tooltip:$.SURPLUS}),t.jsx($s,{order:o})]}),t.jsxs(L,{children:[t.jsx(R,{label:"Fee",tooltip:$.FEE}),t.jsx(Is,{order:o})]})]}),t.jsxs(L,{children:[t.jsx(R,{label:"Created",tooltip:$.CREATED}),t.jsx(bt,{date:o.creationTime})]}),t.jsxs(L,{children:[t.jsx(R,{label:"Expiry",tooltip:$.EXPIRY}),t.jsx(bt,{date:o.expirationTime})]}),t.jsxs(L,{children:[t.jsx(R,{label:"Order type",tooltip:$.ORDER_TYPE}),t.jsx(Us,{order:o})]}),(!i||m)&&t.jsx(L,{children:o.executionData.activityId&&t.jsxs(t.Fragment,{children:[t.jsx(R,{label:o.executionData.activityTitle}),t.jsx(zs,{id:o.executionData.activityId,chainId:r})]})}),i&&y&&t.jsx(ks,{chainId:r,safeAddress:i.safeAddress,safeTxHash:y.safeTxHash,nonce:y.nonce,confirmations:y.confirmations,confirmationsRequired:y.confirmationsRequired})]})]})]})})}function pl(e){Ee({category:Ne.TWAP,action:`TWAP wallet compatibility ${e}`})}function Ys(e){Ee({category:Ne.TWAP,action:`Modify safe handler checkbox ${e}`})}function xl(e,n){n&&Ee({category:Ne.TWAP,action:`TWAP with conversion: ${e}`})}function ml(){Ee({category:Ne.TWAP,action:"Open Advanced Orders Tab"})}const Qs=a.span.withConfig({displayName:"styled__Suffix",componentId:"sc-1rawt1p-0"})(["margin:0 0 0 3px;opacity:0.7;font-weight:600;"]),Ue=a.div.withConfig({displayName:"styled__ArrowsWrapper",componentId:"sc-1rawt1p-1"})(["display:flex;align-items:center;justify-content:center;position:relative;inset-block-start:0;inset-inline-end:0;background:transparent;border-radius:6px;display:flex;flex-flow:column wrap;align-items:stretch;width:28px;gap:3px;margin:0 -16px 0 0;user-select:all;> span,> span > span{display:flex;flex-flow:column wrap;align-items:center;justify-content:center;height:100%;}> span{overflow:hidden;cursor:pointer;transition:color 0.2s linear;display:flex;align-items:center;justify-content:center;flex:auto;height:50%;&:hover{> span > svg > path{fill:var(",");}}}> span > span > svg{display:flex;--size:12px;width:var(--size);height:var(--size);border-radius:var(--size);object-fit:contain;cursor:pointer;}> span > span > svg > path{fill:",";transition:fill 0.2s linear;}> span:first-child > span > svg{transform:rotate(180deg);}"],O.COLOR_TEXT1,({theme:e})=>h(.7,e.text1)),Ks=a.span.withConfig({displayName:"styled__InputWrapper",componentId:"sc-1rawt1p-2"})(["position:relative;display:flex;align-items:center;&:hover ","{opacity:1;}",""],Ue,({upDownArrowsLeftAlign:e})=>e&&`
    ${Ue} {
      order: -1;
      margin: 0;
    }
  `),Ie=a(ti).withConfig({displayName:"styled__NumericalInput",componentId:"sc-1rawt1p-3"})(["color:",";display:flex;align-items:center;background:none;flex:1;width:auto;height:100%;font-size:22px;font-weight:500;",""],({theme:e,color:n})=>n==="red"?e.red1:n==="yellow"?e.yellow2:e.text1,({theme:e})=>e.mediaWidth.upToSmall`
    font-size: 20px;
  `),tt=a.span.withConfig({displayName:"styled__TradeWidgetFieldLabel",componentId:"sc-16zn5wm-0"})(["color:",";display:flex;align-items:center;font-size:13px;font-weight:500;padding:0;flex:0 1 auto;flex:1;","{opacity:0.5;transition:opacity 0.2s ease-in-out;&:hover{opacity:1;}}"],({theme:e})=>h(.3,e.text1),Oe),Ae=a.div.withConfig({displayName:"styled__Content",componentId:"sc-16zn5wm-1"})(["display:flex;align-items:center;font-weight:500;position:relative;"]),Zs=a.div.withConfig({displayName:"styled__ErrorText",componentId:"sc-16zn5wm-2"})(["color:",";font-size:12px;margin-top:5px;"],({theme:e,type:n})=>n==="error"?e.red1:n==="warning"?e.yellow2:e.text1),_e=a.div.withConfig({displayName:"styled__TradeWidgetFieldBox",componentId:"sc-16zn5wm-3"})(["--minHeight:45px;background:",";border:1px solid ",";border-radius:16px;min-height:var(--minHeight);font-size:18px;padding:10px 16px;padding:",";display:flex;justify-content:space-between;align-items:center;flex-flow:row wrap;flex:1;gap:3px;width:100%;",";"," ","{padding:",";}","{padding:0;flex:0 1 auto;","{max-width:200px;appearance:textfield;};"," > em{font-style:normal;flex:1 1 100%;height:100%;display:flex;align-items:center;justify-content:flex-end;padding:0 12px 0 0;}> span{background:",";","}"],({theme:e,hasPrefix:n})=>n?"transparent":e.grey1,({theme:e,hasPrefix:n})=>n?e.grey1:"transparent",({hasPrefix:e})=>e?"0":"10px 16px",({theme:e})=>e.mediaWidth.upToSmall`
    gap: 0;
  `,({hasPrefix:e})=>e&&we`
    display: grid;
    grid-template-columns: max-content auto;

    ${({theme:n})=>n.mediaWidth.upToSmall`
      display: flex;
      flex-flow: column wrap;
    `};
  `,tt,({hasPrefix:e})=>e?"10px 16px":"initial",Ae,Ie,({hasPrefix:e})=>e&&we`
        flex: 1 1 auto;
        justify-content: center;
        display: flex;
        padding: 0;
        height: var(--minHeight);

        ${({theme:n})=>n.mediaWidth.upToSmall`
          border-top: 1px solid ${n.grey1};
          width: 100%;
        `};
      `,({theme:e,hasPrefix:n})=>n?e.grey1:"transparent",({hasPrefix:e})=>e&&we`
          margin: auto;
          height: 100%;
          display: flex;
          padding: 0 10px 0 0;
          flex: 0 1 auto;
          border-radius: 0 15px 15px 0;
          align-items: center;

          ${({theme:n})=>n.mediaWidth.upToSmall`
            border-radius: 0 0 15px 0;
            width: 136px;
          `};

          > ${Ie} {
            font-size: 18px;
            width: 56px;
          }
        `);function nt(e){const{className:n,children:o,label:i,tooltip:s,error:r,hasPrefix:l}=e,d=an(s,e);return t.jsxs(_e,{className:n,hasPrefix:l,children:[t.jsxs(tt,{children:[t.jsx(T,{id:"w9dLMW",values:{label:i}}),s&&t.jsx(he,{text:d})]}),t.jsx(Ae,{children:o}),r&&t.jsx(Zs,{type:r.type,children:r.text})]})}function Js({onClickUp:e,onClickDown:n}){return t.jsxs(Ue,{children:[t.jsx("span",{role:"button","aria-label":"Increase Value","aria-disabled":"false",onClick:e,children:t.jsx("span",{role:"img","aria-label":"up",children:t.jsx(ee,{src:xt})})}),t.jsx("span",{role:"button","aria-label":"Decrease Value","aria-disabled":"false",onClick:n,children:t.jsx("span",{role:"img","aria-label":"down",children:t.jsx(ee,{src:xt})})})]})}function wt(e){const{value:n,suffix:o,onUserInput:i,placeholder:s="0",decimalsPlaces:r=0,min:l,max:d,step:c=1,prefixComponent:p,showUpDownArrows:x=!1,upDownArrowsLeftAlign:m=!1}=e,f=d===void 0?1e5:d,[g,y]=u.useState(n===null?"":n.toString()),[j,v]=u.useState(!1),b=u.useCallback(I=>{const _=I.includes("."),[z,U]=(I||"").split("."),w=r&&_?`.${U.slice(0,r)}`:"",D=z+w,N=D?parseFloat(D):null;if(N&&f!==null&&N>f){y(f.toString()),i(f);return}if(l!==void 0&&(!N||N<l)){y(l.toString()),i(l);return}y(D),n!==N&&i(N)},[i,n,l,f,r]);u.useEffect(()=>{j||b(n!==null?n.toString():"")},[n,b,j]);const S=u.useCallback(()=>{b(er(g,c,l))},[g,l,c,b]),C=u.useCallback(()=>{b(tr(g,c,l))},[g,l,c,b]),W=u.useCallback(I=>{I.key==="ArrowUp"?S():I.key==="ArrowDown"&&C()},[C,S]);return t.jsx(nt,{...e,hasPrefix:!!p,children:t.jsxs(t.Fragment,{children:[p,t.jsxs(Ks,{showUpDownArrows:x,upDownArrowsLeftAlign:m,children:[t.jsx(Ie,{placeholder:s,value:g,onBlur:I=>{b(I.target.value),v(!1)},onFocus:()=>v(!0),onUserInput:y,onKeyDown:W,type:"number",min:l,max:f||void 0,step:c}),x&&t.jsx(Js,{onClickUp:S,onClickDown:C}),o&&t.jsx(Qs,{children:o})]})]})})}function er(e,n,o){const i=new Mt(e);return i.isNaN()?o?.toString()||n.toString():i.plus(n).toString()}function tr(e,n,o){const i=new Mt(e);return i.isNaN()?o?.toString()||n.toString():i.minus(n).toString()}const nr=a(nt).withConfig({displayName:"TradeTextBox__StyledTradeWidgetField",componentId:"sc-a9a73u-0"})(["background-color:",";border:1px solid ",";display:flex;flex-flow:column wrap;align-items:flex-start;"],({theme:e})=>e.bg1,({theme:e})=>e.grey1);function hl(e){return t.jsx(nr,{...e})}function or(e){return e!==void 0&&e<ln}function ir(e,n){if(!n)return!1;const o=cn[n];return!!o&&!!e&&e.lessThan(o)}var B;(function(e){e.LOADING_SAFE_INFO="LOADING_SAFE_INFO",e.NOT_SAFE="NOT_SAFE",e.SELL_AMOUNT_TOO_SMALL="SELL_AMOUNT_TOO_SMALL",e.PART_TIME_INTERVAL_TOO_SHORT="PART_TIME_INTERVAL_TOO_SHORT"})(B||(B={}));function fl(e){const{twapOrder:n,isSafeApp:o,verification:i,sellAmountPartFiat:s,chainId:r,partTime:l}=e;return o?i===null?B.LOADING_SAFE_INFO:!dn(n?.buyAmount)&&ir(s,r)?B.SELL_AMOUNT_TOO_SMALL:or(l)?B.PART_TIME_INTERVAL_TOO_SHORT:null:B.NOT_SAFE}const gl=a.div.withConfig({displayName:"styled__Row",componentId:"sc-nlzmst-0"})(["display:flex;gap:10px;width:100%;"," ","{opacity:0.5;transition:opacity 0.2s ease-in-out;&:hover{opacity:1;}}"],({theme:e})=>e.mediaWidth.upToSmall`
    flex-direction: column;
    grid-gap: 6px;
  `,Oe),yl=a(Qe).withConfig({displayName:"styled__StyledRateInfo",componentId:"sc-nlzmst-1"})(["padding:10px;gap:4px;font-size:13px;min-height:24px;display:grid;grid-template-columns:max-content auto;"]);a.div.withConfig({displayName:"styled__StyledPriceProtection",componentId:"sc-nlzmst-2"})(["display:flex;flex-flow:row wrap;align-items:center;width:100%;"]);const sr="/assets/protection-fedb3903.svg",[jt,Ct,Tt,rr]=[K("1d"),K("1h"),K("1m"),K("1s")];function In(e){return(e.hours*60+e.minutes)*60}function se(e,n=!1){const o=K(`${e*1e3}ms`),i=Math.floor(o/jt),s=Math.floor(o%jt/Ct),r=Math.floor(o%Ct/Tt),l=Math.floor(o%Tt/rr);return[[i,n?" days":"d"],[s,n?" hours":"h"],[r,n?" minutes":"m"],[l,n?" seconds":"s"]].filter(([d])=>!!d).map(([d,c])=>`${d}${c}`).join(" ")}const ar=a.div.withConfig({displayName:"tooltips__IconImage",componentId:"sc-1c38enu-0"})(["display:flex;align-items:center;justify-content:center;> svg{opacity:0.5;fill:var(",");margin:0 3px 0 0;}"],O.COLOR_TEXT1),St={numberOfParts:{label:"No. of parts",tooltip:"Your TWAP order will be split into this many parts, which will execute one by one."},totalDuration:{label:"Total duration",tooltip:({parts:e,partDuration:n})=>t.jsxs(t.Fragment,{children:['The "Total duration" is the duration it takes to execute all parts of your TWAP order.',t.jsx("br",{}),t.jsx("br",{}),"For instance, your order consists of ",t.jsxs("b",{children:[e," parts"]})," placed every"," ",t.jsx("b",{children:se(n)}),", the total time to complete the order is"," ",t.jsx("b",{children:se(e*n)}),". Each limit order remains open for"," ",t.jsx("b",{children:se(n)})," until the next part becomes active."]})},partDuration:{label:"Part duration",tooltip:t.jsxs(t.Fragment,{children:['The "Part duration" refers to the duration between each part of your TWAP order.',t.jsx("br",{}),t.jsx("br",{}),"Choosing a shorter time allows for faster execution of each part, potentially reducing price fluctuations. Striking the right balance is crucial for optimal execution."]})},slippage:{label:t.jsxs(t.Fragment,{children:[t.jsx(ar,{children:t.jsx(ee,{src:sr,width:"16",height:"16",title:"Price protection"})})," ","Price protection"]}),tooltip:t.jsx(t.Fragment,{children:"Your TWAP order won't execute and is protected if the market price dips more than your set price protection."})},price:{label:"Price (incl. fee)",tooltip:"This is the current market price, including the fee."},sellAmount:{label:"Sell per part",tooltip:"Estimated amount that will be sold in each part of the order."},buyAmount:{label:"Buy per part",tooltip:"Estimated amount that you will receive from each part of the order."},startTime:{label:"Start time",tooltip:"The order will start when it is validated and executed in your Safe."}},bl={sellAmount:St.sellAmount,buyAmount:St.buyAmount};async function lr(e){const{safeAddress:n,provider:o}=e;return new Xn(n,ni,o)}var re;(function(e){e.HAS_EXTENSIBLE_FALLBACK="HAS_EXTENSIBLE_FALLBACK",e.HAS_DOMAIN_VERIFIER="HAS_DOMAIN_VERIFIER",e.HAS_NOTHING="HAS_NOTHING"})(re||(re={}));async function wl(e){const{chainId:n,safeAddress:o,settlementContract:i}=e,s=oi[n],r=await i.callStatic.domainSeparator(),l=await lr(e);try{return(await l.callStatic.domainVerifiers(o,r)).toLowerCase()===s.toLowerCase()?re.HAS_DOMAIN_VERIFIER:re.HAS_EXTENSIBLE_FALLBACK}catch{return re.HAS_NOTHING}}const{atom:cr,updateAtom:jl}=es(Bt("fallbackHandlerVerification:v2",{}));function An(){const{account:e}=ne(),n=F(cr);return e&&n[e]||null}function dr(){const e=An();return e!==null&&e!==re.HAS_DOMAIN_VERIFIER}function Cl(){const e=An();return e!==null&&e===re.HAS_DOMAIN_VERIFIER}const _n={hours:0,minutes:0},ur={isCustomDeadline:!1,deadline:ri.value,customDeadline:_n,numberOfPartsValue:un,slippageValue:null,isFallbackHandlerSetupAccepted:!1,isPriceImpactAccepted:!1},te=Bt("twap-orders-settings-atom:v1",ur,ii()),pr=V(null,(e,n,o)=>{n(te,()=>({...e(te),...o}))}),kn=V(e=>{const{slippageValue:n}=e(te);return n!=null?new le(Math.round(n*100),1e4):si}),xr=V(e=>{const{numberOfPartsValue:n}=e(te),{inputCurrencyAmount:o,outputCurrencyAmount:i,inputCurrencyFiatAmount:s,outputCurrencyFiatAmount:r}=e(Ke),l=n||un;return{numberOfPartsValue:n,inputPartAmount:o?.divide(l)||null,outputPartAmount:i?.divide(l)||null,inputFiatAmount:s?.divide(l)||null,outputFiatAmount:r?.divide(l)||null}}),En=V(e=>{const{isCustomDeadline:n,customDeadline:o,deadline:i}=e(te);return n?In(o):i/1e3}),mr=V(e=>{const{numberOfPartsValue:n}=e(te),o=e(En);return Math.ceil(o/n)}),hr=V(e=>{const{outputCurrencyAmount:n}=e(Ke);if(!n)return null;const o=e(kn),i=n.multiply(o);return n.subtract(i)}),fr=V(e=>{const n=e(ai),{account:o}=e(li),{numberOfPartsValue:i}=e(te),s=e(mr),{inputCurrencyAmount:r,recipient:l,recipientAddress:d}=e(Ke),c=e(hr);return!r||!c||!o?null:{sellAmount:r,buyAmount:c,receiver:d||l||o,numOfParts:i,startTime:0,timeInterval:s,span:0,appData:n?.appDataKeccak256||ci().appDataKeccak256}}),Tl=a.div.withConfig({displayName:"styled__Wrapper",componentId:"sc-1yo3auv-0"})(["display:flex;grid-gap:8px;",""],({theme:e})=>e.mediaWidth.upToSmall`
    flex-direction: column;
    grid-gap: 6px;
  `),Sl=a(_e).withConfig({displayName:"styled__Part",componentId:"sc-1yo3auv-1"})(["background-color:transparent;border:1px solid ",";align-content:flex-start;"],({theme:e})=>e.grey1),vl=a(tt).withConfig({displayName:"styled__Label",componentId:"sc-1yo3auv-2"})(["","{opacity:0.5;transition:opacity 0.2s ease-in-out;&:hover{opacity:1;}}"],Oe),Il=a(k).withConfig({displayName:"styled__Amount",componentId:"sc-1yo3auv-3"})(["display:flex;flex-flow:row wrap;font-size:18px;font-weight:500;padding:2px 0;width:100%;overflow:hidden;text-overflow:ellipsis;gap:5px;> div:first-child{margin-right:5px;}",""],({theme:e})=>e.mediaWidth.upToSmall`
    font-size: 18px;
    padding: 5px 0;
  `),Al=a(Ze).withConfig({displayName:"styled__Fiat",componentId:"sc-1yo3auv-4"})(["color:",";font-size:13px;"],({theme:e})=>h(.3,e.text1)),gr=a(zt).withConfig({displayName:"TradeSelect__StyledMenuList",componentId:"sc-ny47r0-0"})(["background:",";box-shadow:",";margin:15px 0 0 0;padding:16px;border-radius:20px;outline:none;list-style:none;position:relative;z-index:2;min-width:120px;display:flex;flex-flow:column wrap;gap:10px;transition:background 0.1s ease-in-out;"],({theme:e})=>e.bg1,({theme:e})=>e.boxShadow2),yr=a(Ut).withConfig({displayName:"TradeSelect__StyledMenuButton",componentId:"sc-ny47r0-1"})(["background:none;border:0;outline:none;padding:0;margin:0;font-size:18px;display:flex;align-items:center;flex-flow:row wrap;cursor:pointer;width:100%;justify-content:space-between;color:var(",");"],O.COLOR_TEXT1),br=a(Vt).withConfig({displayName:"TradeSelect__StyledMenuItem",componentId:"sc-ny47r0-2"})(["cursor:pointer;font-size:14px;color:",";&:hover{color:var(",");}&:not(:last-child){margin:0 0 10px;}"],({theme:e})=>h(.2,e.text1),O.COLOR_TEXT1);function wr(e){const{activeLabel:n,items:o,onSelect:i,className:s}=e;return t.jsx(nt,{...e,children:t.jsx("div",{children:t.jsxs(Ht,{children:[t.jsxs(yr,{className:s,children:[n," ",t.jsx(Yn,{size:20})]}),t.jsx(gr,{children:o.map(r=>t.jsx(br,{onSelect:()=>i(r),children:r.label},r.label))})]})})})}const jr=a.div.withConfig({displayName:"styled__ModalWrapper",componentId:"sc-1ihwoor-0"})(["display:flex;flex-flow:column wrap;height:100%;width:100%;padding:16px;min-height:150px;"]),Cr=a.div.withConfig({displayName:"styled__ModalHeader",componentId:"sc-1ihwoor-1"})(["display:flex;width:100%;justify-content:space-between;padding:0 0 16px;> h3{font-size:21px;margin:0;}"]),Tr=a.div.withConfig({displayName:"styled__ModalFooter",componentId:"sc-1ihwoor-2"})(["display:flex;width:100%;justify-content:space-between;padding:15px 0 0;gap:10px;> button{border-radius:12px;}"]),Sr=a.div.withConfig({displayName:"styled__ModalContent",componentId:"sc-1ihwoor-3"})(["display:grid;grid-template-columns:repeat(2,1fr);width:100%;grid-gap:6px;",";> ","{flex-flow:row nowrap;}> "," ","{width:100%;}"],({theme:e})=>e.mediaWidth.upToSmall`
      grid-template-columns: repeat(1, 1fr);
    `,_e,_e,Ie),vr=a(qt).withConfig({displayName:"styled__CloseIcon",componentId:"sc-1ihwoor-4"})(["height:28px;width:28px;opacity:0.6;transition:opacity 0.3s ease-in-out;&:hover{cursor:pointer;opacity:1;}> line{stroke:var(",");}"],O.COLOR_TEXT1),Ir=a(di).withConfig({displayName:"styled__CancelButton",componentId:"sc-1ihwoor-5"})(["background:transparent;color:var(",");border:1px solid ",";:hover{background:transparent;color:var(",");border:1px solid ",";}"],O.COLOR_TEXT1,({theme:e})=>e.text1,O.COLOR_TEXT1,({theme:e})=>e.text1),Ar=a.div.withConfig({displayName:"styled__ErrorText",componentId:"sc-1ihwoor-6"})(["color:",";font-size:14px;margin-top:10px;"],({theme:e})=>e.error),_r=K("30d")*6,kr="Twap order deadline cannot be longer then 6 months";function Er(e){const{isOpen:n,onDismiss:o,customDeadline:i,selectCustomDeadline:s}=e,{hours:r=0,minutes:l=0}=i,[d,c]=u.useState(r),[p,x]=u.useState(l);u.useEffect(()=>c(r),[r,n]),u.useEffect(()=>x(l),[l,n]);const[m,f]=u.useState(null),g=u.useCallback(C=>c(C?Math.round(C):0),[]),y=u.useCallback(C=>x(C?Math.round(C):0),[]),v=!!m||!d&&!p,b=()=>{o(),s({hours:d,minutes:p})},S=u.useCallback(()=>{c(r||0),x(l||0),o()},[r,l,o]);return u.useEffect(()=>{K(`${d}h`)+K(`${p}m`)>_r?f(kr):f(null)},[d,p]),t.jsx(Xe,{isOpen:n,onDismiss:S,children:t.jsxs(jr,{children:[t.jsxs(Cr,{children:[t.jsx("h3",{children:t.jsx(T,{id:"Wta4UJ"})}),t.jsx(vr,{onClick:S})]}),t.jsxs(Sr,{children:[t.jsx(wt,{label:"Hours",onUserInput:g,value:d,showUpDownArrows:!0,min:0,max:null}),t.jsx(wt,{label:"Minutes",onUserInput:y,value:p,showUpDownArrows:!0,min:0,max:null})]}),m&&t.jsx(Ar,{children:m}),t.jsxs(Tr,{children:[t.jsx(Ir,{onClick:S,children:t.jsx(T,{id:"dEgA5A"})}),t.jsx(ie,{disabled:v,onClick:b,children:t.jsx(T,{id:"DB8zMK"})})]})]})})}const vt={label:"Custom",value:"CUSTOM_ITEM_VALUE"},Nr=a(wr).withConfig({displayName:"DeadlineSelector__StyledTradeSelect",componentId:"sc-144pnuf-0"})(["font-weight:500;","{width:100%;}"," > div{width:100%;}"],Ae,Ae);function _l(e){const{items:n,deadline:{deadline:o,customDeadline:i,isCustomDeadline:s},label:r,tooltip:l,setDeadline:d}=e,[c,p]=u.useState(!1),x=u.useMemo(()=>[...n,vt],[n]),m=u.useCallback(g=>{g===vt?p(!0):d({isCustomDeadline:!1,deadline:g.value,customDeadline:_n})},[p,d]),f=u.useMemo(()=>s?se(In(i)):n.find(g=>g.value===o)?.label||"",[n,o,i,s]);return t.jsxs(t.Fragment,{children:[t.jsx(Nr,{label:r,tooltip:an(l),items:x,activeLabel:f,onSelect:m}),t.jsx(Er,{selectCustomDeadline:g=>d({isCustomDeadline:!0,customDeadline:g,deadline:0}),customDeadline:i,onDismiss:()=>p(!1),isOpen:c})]})}const Or=[fe.ExpertApproveAndSwap,fe.ApproveAndSwap,fe.ApproveRequired];function Pr(){const{account:e}=ne(),n=pn(),o=ui();return u.useMemo(()=>{const s=!n||Or.includes(n),r=s&&!0&&!!o.error;return{canTrade:s,showPriceImpactWarning:r,walletIsNotConnected:!e}},[o,n,e])}const Rr={[B.LOADING_SAFE_INFO]:()=>t.jsx(ie,{disabled:!0,buttonSize:xe.BIG,children:"Loading..."}),[B.NOT_SAFE]:()=>t.jsx(ie,{disabled:!0,buttonSize:xe.BIG,children:"Unsupported wallet"}),[B.SELL_AMOUNT_TOO_SMALL]:()=>t.jsx(ie,{disabled:!0,buttonSize:xe.BIG,children:"Sell amount too small"}),[B.PART_TIME_INTERVAL_TOO_SHORT]:()=>t.jsx(ie,{disabled:!0,buttonSize:xe.BIG,children:"Interval time too short"})};function kl(e){return Rr[e.state](e.context)}const Wr=a.div.withConfig({displayName:"styled__Wrapper",componentId:"sc-pcg2gs-0"})(["display:flex;align-items:center;"," > svg:first-child{margin:0 4px 0 0;color:var(",");opacity:0.5;}","{","}"],({theme:e})=>e.mediaWidth.upToSmall`
    width: 100%;
    flex-flow: row nowrap;
    align-items: flex-start;
    margin: 0 0 10px;
  `,O.COLOR_TEXT1,xn,({theme:e})=>e.mediaWidth.upToSmall`
      flex-flow: column wrap;
      gap: 2px;
      align-items: flex-start;
    `),Lr=a(xn).withConfig({displayName:"styled__Row",componentId:"sc-pcg2gs-1"})(["display:flex;align-items:center;justify-content:space-between;",""],({theme:e})=>e.mediaWidth.upToSmall`
    flex-flow: column wrap;
    gap: 2px;
    align-items: flex-start;
  `),Fr=a.div.withConfig({displayName:"styled__Content",componentId:"sc-pcg2gs-2"})(["display:flex;flex-flow:row wrap;align-items:center;justify-content:flex-end;margin:0 0 0 auto;font-weight:500;font-size:13px;"," > span{display:block;text-align:right;word-break:break-all;}i{font-style:normal;opacity:0.7;word-break:break-all;text-align:right;}"],({theme:e})=>e.mediaWidth.upToSmall`
    margin: 0;
  `);function me(e){const{children:n,label:o,tooltip:i,withArrow:s=!0}=e;return t.jsxs(Wr,{children:[s&&t.jsx(Qn,{size:14}),o?t.jsxs(Lr,{children:[t.jsxs(pi,{children:[o&&t.jsx(xi,{children:o}),i&&t.jsx(nn,{content:i})]}),t.jsx(Fr,{children:n})]}):n]})}const El=a.div.withConfig({displayName:"styled__Wrapper",componentId:"sc-xhpb32-0"})(["padding:10px;font-size:13px;",""],({theme:e})=>e.mediaWidth.upToSmall`
    display: flex;
    flex-flow: column wrap;
    align-items: flex-start;
  `),Nl=a(Qe).withConfig({displayName:"styled__StyledRateInfo",componentId:"sc-xhpb32-1"})(["margin:0 auto;font-size:13px;",""],({theme:e})=>e.mediaWidth.upToSmall`
    display: flex;
    flex-flow: column wrap;
    gap: 2px;
    align-items: flex-start;
    margin: 0 0 10px;
  `);a.div.withConfig({displayName:"styled__ItemWithArrow",componentId:"sc-xhpb32-2"})(["display:flex;align-items:center;> svg:first-child{margin-right:5px;}"]);function It({amount:e,fiatAmount:n,tooltip:o,label:i,isAmountAccurate:s=!0}){return t.jsxs(me,{tooltip:o,label:i,children:[!s&&"â‰ˆ ",t.jsx(k,{amount:e,defaultValue:"-",tokenSymbol:e?.currency}),n&&t.jsxs("i",{children:["Â (",t.jsx(Ze,{amount:n}),")"]})]})}const Dr=a.div.withConfig({displayName:"TwapConfirmDetails__Wrapper",componentId:"sc-a8ed2c-0"})(["padding:10px;font-size:13px;> b{display:block;margin:0 0 3px;","}"],({theme:e})=>e.mediaWidth.upToSmall`
      margin: 0 0 10px;
    `),Ol=Kn.memo(function(n){const{partDuration:o,totalDuration:i,partsState:s}=n,{numberOfPartsValue:r,inputPartAmount:l,inputFiatAmount:d,outputFiatAmount:c,outputPartAmount:p}=s,x=` part (1/${r})`,m=" amount per"+x,f=o?se(o,!0):"",g=i?se(i,!0):"",{account:y}=ne(),{recipient:j}=mn();return t.jsxs(Dr,{children:[t.jsxs("b",{children:["TWAP order split in ",r," equal parts"]}),t.jsx(It,{amount:l,fiatAmount:d,tooltip:"This is the amount that will be sold in each part of the TWAP order.",label:"Sell"+m}),t.jsx(It,{amount:p,fiatAmount:c,tooltip:"This is the estimated amount you will receive for each part of the TWAP order.",label:"Buy"+m,isAmountAccurate:!1}),t.jsx(me,{tooltip:"The first part of your TWAP order will become active as soon as you confirm the order below.",label:"Start time first"+x,withArrow:!1,children:"Now"}),t.jsx(me,{tooltip:"The time each part of your TWAP order will remain active.",label:"Part duration",withArrow:!1,children:f}),t.jsx(me,{tooltip:"The time before your total TWAP order ends.",label:"Total duration",withArrow:!1,children:g}),j&&j!==y&&t.jsx(me,{withArrow:!1,label:"Recipient",tooltip:"The tokens received from this order will automatically be sent to this address. No need to do a second transaction!",children:t.jsx("div",{children:t.jsx("span",{title:j,children:Zn.isAddress(j)?rn(j):j})})})]})}),At=a.div.withConfig({displayName:"FallbackHandlerWarning__Wrapper",componentId:"sc-5sjcmt-0"})(["display:flex;flex-flow:column wrap;align-items:center;justify-content:center;"]),Nn=a.div.withConfig({displayName:"FallbackHandlerWarning__CheckboxWrapper",componentId:"sc-5sjcmt-1"})(["display:flex;align-items:center;justify-content:center;width:100%;font-weight:bold;text-align:left;"]),Mr=a(Nn).withConfig({displayName:"FallbackHandlerWarning__WarningCheckboxWrapper",componentId:"sc-5sjcmt-2"})(["width:100%;margin:0 auto;border:1px solid;border-radius:16px;padding:20px;font-weight:500;display:flex;align-items:center;justify-content:center;"]),Br=a.label.withConfig({displayName:"FallbackHandlerWarning__WarningCheckbox",componentId:"sc-5sjcmt-3"})(["display:flex;gap:10px;cursor:pointer;align-items:center;justify-content:center;width:100%;> input{--size:21px;width:var(--size);height:var(--size);}"]),zr=a(Q).withConfig({displayName:"FallbackHandlerWarning__InlineBannerWithCheckbox",componentId:"sc-5sjcmt-4"})([""]);function Ur({isFallbackHandlerSetupAccepted:e,toggleFallbackHandlerSetupFlag:n}){const o=t.jsxs(Br,{children:[t.jsx("input",{type:"checkbox",checked:e,onChange:i=>n(i.currentTarget.checked)}),t.jsx("span",{children:"Modify Safe's fallback handler when placing order"})]});return e?t.jsx(At,{children:t.jsx(Q,{hideIcon:!0,type:"information",children:t.jsx(Nn,{children:o})})}):t.jsx(At,{children:t.jsxs(zr,{type:"alert",children:[t.jsx("strong",{children:"Unsupported Safe detected"}),t.jsx("p",{children:"Connected Safe lacks required fallback handler. Switch to a compatible Safe or modify fallback handler for TWAP orders when placing your order."}),t.jsx(de,{href:mi,children:"Learn more"}),t.jsx(Mr,{children:o})]})})}function Vr(){const e=se(ln,!0);return t.jsxs(Q,{children:[t.jsx("strong",{children:"Insufficient time between parts"}),t.jsxs("p",{children:["A minimum of ",t.jsx("strong",{children:e})," between parts is required. Decrease the number of parts or increase the total duration."]})]})}function Hr({chainId:e}){const n=cn[e];return t.jsxs(Q,{children:[t.jsx("strong",{children:"Minimum sell size"}),t.jsxs("p",{children:["The sell amount per part of your TWAP order should be at least"," ",t.jsxs("b",{children:["$",t.jsx(k,{amount:n,hideTokenSymbol:!0})]}),". Decrease the number of parts or increase the total sell amount."]})]})}function qr({isSafeViaWc:e}){return e?t.jsxs(Q,{type:"information",children:[t.jsx("strong",{children:"Use Safe web app"}),t.jsxs("p",{children:["Use the Safe web app for advanced trading. ",t.jsx("br",{}),"Only available in the ",t.jsx(hn,{})]})]}):t.jsxs(Q,{type:"alert",children:[t.jsx("strong",{children:"Unsupported wallet detected"}),t.jsxs("p",{children:["TWAP orders currently require a Safe with a special fallback handler. Have one? Switch to it! Need setup?"," ",t.jsx(de,{href:hi,children:"Click here"}),". Future updates may extend wallet support!"]})]})}function $r(){return t.jsxs(Q,{children:[t.jsx("strong",{children:"Attention"}),t.jsx("p",{children:"Since prices can change significantly over time, we suggest increasing your price protection for orders with long deadlines."})]})}const Gr=a(Jn).withConfig({displayName:"SwapPriceDifferenceWarning__StyledNavLink",componentId:"sc-1uaxuo9-0"})(["color:inherit;display:inline;text-decoration:underline;&:hover{text-decoration:none;}"]),Xr=.5;function Yr({tradeUrlParams:e,swapAmountDifference:n,feeFiatAmount:o}){const{amount:i,percent:s}=n,r=i.greaterThan(0),l=+s.toSignificant(2)<Xr;if(!r&&!o||r&&l)return null;const d=fi(e,gi.SWAP),c=t.jsx(Gr,{to:d,children:"SWAP order"});return t.jsx(Q,{type:"savings",children:r?t.jsxs(t.Fragment,{children:[t.jsx("strong",{children:"Maximizing Your Gains! "}),t.jsxs("p",{children:["You could gain an extra"," ",t.jsx("b",{children:t.jsx(k,{amount:i,tokenSymbol:i.currency})})," ","compared to using a ",c]})]}):t.jsxs(t.Fragment,{children:[t.jsx("strong",{children:"Trade Smart, Save More!"}),t.jsxs("p",{children:["Considering current market fees (",t.jsx("b",{children:t.jsx(Ze,{amount:o})})," ","per chunk), you could save more by reducing the number of parts or switch to a ",c,"."]})]})})}const Qr=V(null),Kr=V(e=>{const n=e(Qr),{numberOfPartsValue:o,outputPartAmount:i}=e(xr);if(!i||dn(i))return null;const s=n?.quote.buyAmount;if(!s||!o)return null;const r=q.fromRawAmount(i.currency,s),l=i.multiply(o),d=l.subtract(r);return{amount:d,percent:new le(d.quotient,l.quotient)}}),Zr=864e5/1e3,Jr=6048e5/1e3,ea=2592e6/1e3;function ta(e,n){const o=+n.toFixed(2);return e<=Zr?o<10:e<Jr?o<20:e<ea?o<30:o<50}const na=[fe.ApproveAndSwap,fe.ExpertApproveAndSwap];function Pl({localFormValidation:e,isConfirmationModal:n}){const{isFallbackHandlerSetupAccepted:o,isPriceImpactAccepted:i}=F(te),s=M(pr),r=F(fr),l=F(kn),d=F(En),c=F(Kr),{outputCurrencyAmount:p}=mn(),x=pn(),{chainId:m}=ne(),f=dr(),g=fn(),y=Gi(),{canTrade:j,showPriceImpactWarning:v,walletIsNotConnected:b}=Pr(),S=yi(),C=u.useCallback(N=>{Ys(N?"enabled":"disabled"),s({isFallbackHandlerSetupAccepted:N})},[s]),W=bi(r?.sellAmount),I=!n&&W&&p!==null,_=!n&&x&&na.includes(x),z=!n&&j,U=z&&f,w=u.useCallback(()=>{s({isPriceImpactAccepted:!i})},[s,i]);if(b)return null;const D=c?t.jsx(Yr,{tradeUrlParams:S,feeFiatAmount:y,swapAmountDifference:c}):null;return t.jsxs(t.Fragment,{children:[I&&t.jsx(wi,{currency:r?.sellAmount?.currency}),_&&t.jsx(ji,{}),!n&&v&&t.jsx(Ci,{withoutAccepting:!1,isAccepted:i,acceptCallback:()=>w()}),(()=>e===B.NOT_SAFE?t.jsx(qr,{isSafeViaWc:g}):e===B.SELL_AMOUNT_TOO_SMALL?t.jsx(Hr,{chainId:m}):e===B.PART_TIME_INTERVAL_TOO_SHORT?t.jsx(Vr,{}):U?[o?D:null,t.jsx(Ur,{isFallbackHandlerSetupAccepted:o,toggleFallbackHandlerSetupFlag:C})]:[z&&ta(d,l)?t.jsx($r,{}):null,D])()]})}function On(e){const n=F(Ti);return u.useMemo(()=>e&&n[e]||null,[e,n])}function oa(e){const n=F(Si),o=u.useMemo(()=>n.find(({uid:i})=>i===e)?.twapOrderId,[e,n]);return On(o)}const _t=e=>X.equal(e,X.BigInt(0));function kt({buyAmount:e,sellAmount:n,inputToken:o,outputToken:i}){return!e||!n||!o||!i||_t(e)||_t(n)?null:new eo(o,i,n.toString(),e.toString())}const Ve=V({order:null}),Pn=V(null,(e,n,o)=>{n(Ve,()=>({...e(Ve),...o}))});function ia(){const e=M(Pn);return u.useCallback(()=>e({order:null}),[e])}function sa(){const e=M(Pn);return u.useCallback(n=>e({order:n}),[e])}function ra(){const{order:e}=F(Ve);return e}function aa(e){const n=ra(),{chainId:o}=ne(),i=ia(),{name:s}=vi(n?.receiver),r=On(n?.id),l=oa(n?.id),d=r||l,c=!!l;if(!o||!n)return null;const{inputToken:p,outputToken:x,buyAmount:m,sellAmount:f}=n,{executedBuyAmount:g,executedSellAmount:y}=n.executionData,j=q.fromRawAmount(p,f.toString()),v=q.fromRawAmount(x,m.toString()),b=kt({buyAmount:X.BigInt(m.toString()),sellAmount:X.BigInt(f.toString()),inputToken:p,outputToken:x}),S=kt({buyAmount:g,sellAmount:y,inputToken:p,outputToken:x}),{pendingOrdersPrices:C}=e,{estimatedExecutionPrice:W=null}=C[n.id]||{};return t.jsx(Xs,{receiverEnsName:s,sellAmount:j,buyAmount:v,limitPrice:b,executionPrice:S,estimatedExecutionPrice:W,chainId:o,order:n,twapOrder:d,isTwapPartOrder:c,isOpen:!!n,onDismiss:i})}const Rn="tab",Wn="page",la=wn.map(e=>e.id);function Pe({pathname:e,search:n},{tabId:o,pageNumber:i}){const s=new URLSearchParams(n);return o&&s.set(Rn,o),i&&s.set(Wn,i.toString()),{pathname:e,search:s.toString()}}function Ln(e){const n=new URLSearchParams(e),o=n.get(Rn)||"",i=la.includes(o)?o:void 0,s=n.get(Wn)||void 0,r=s&&/^\d+$/.test(s)?+s:void 0;return{tabId:i,pageNumber:r}}const ca=(e,n)=>e.creationTime.getTime()-n.creationTime.getTime();function da(e){const n=new Map,o=e.reduce((s,r)=>{const l=Ii(r),d=r.composableCowInfo?.id,c=r.composableCowInfo?.parentId;if(d){const p=n.get(d);p?p.parent=l:n.set(d,{parent:l,children:[]})}else c?(n.has(c)||n.set(c,{parent:null,children:[]}),n.get(c).children.push(l)):s.push(l);return s},[]),i=Array.from(n.entries()).reduce((s,[,r])=>(r.parent&&s.push({parent:r.parent,children:r.children.sort(ca)}),s),[]);return[...o,...i]}const ot=e=>e.hasOwnProperty("creationTime"),ae=e=>ot(e)?e:e.parent;function Fn(e){return e.map(ae)}const ua=(e,n)=>{const o=ae(e).creationTime;return ae(n).creationTime.getTime()-o.getTime()},Et=100;function pa(e){const n=u.useMemo(()=>da(e).sort(ua),[e]);return u.useMemo(()=>{const{pending:o,history:i}=n.reduce((s,r)=>{const l=ot(r)?r:r.parent;return Ai.includes(l.status)?s.pending.push(r):s.history.push(r),s},{pending:[],history:[]});return{pending:o.slice(0,Et),history:i.slice(0,Et)}},[n])}function xa(e,n,o){const i=ke(),s=$t();u.useLayoutEffect(()=>{const r=Math.ceil(e/Y),l=Ln(i.search),d=r>0&&o>r||o<1||o!==l.pageNumber,c=n!==l.tabId;(d||c)&&s(Pe(i,{pageNumber:d?1:void 0,tabId:c?n:void 0}),{replace:!0})},[s,i,n,o,e])}const ma="/assets/meditating-cow-v2-8bd39475.svg",ha="/assets/wallet-plus-6b9e9301.svg",fa="/assets/orderExecution-a9a2bda8.svg",Dn=a.div.withConfig({displayName:"styled__TableHeader",componentId:"sc-1g7qvxp-0"})(["--height:50px;--checkboxSize:16px;--checkBoxBorderRadius:3px;display:grid;gap:14px;grid-template-columns:",";grid-template-rows:minmax(var(--height),1fr);align-items:center;border:none;border-bottom:1px solid ",";padding:0 12px;"," ",""],({isOpenOrdersTab:e,isRowSelectable:n})=>`${n&&e?"var(--checkboxSize) 3fr":"3.2fr"} repeat(2,2fr) ${e?"2.5fr 1.4fr":""} 0.7fr 108px 24px`,({theme:e})=>h(.8,e.text3),({theme:e,isRowSelectable:n,isOpenOrdersTab:o})=>e.mediaWidth.upToLargeAlt`
  grid-template-columns: ${`${n&&o?"var(--checkboxSize) minmax(200px,2fr)":"minmax(200px,2fr)"} repeat(2,minmax(110px,2fr)) ${o?"minmax(140px,2.2fr) minmax(100px,1fr)":""} minmax(50px,1fr) 108px 24px`};
  `,({theme:e})=>e.mediaWidth.upToSmall`
    --checkboxSize: 24px;
    --checkBoxBorderRadius: 6px;
  `),ga=a(Dn).withConfig({displayName:"styled__TableRow",componentId:"sc-1g7qvxp-1"})(["background:",";transition:background 0.15s ease-in-out;display:grid;&:hover{background:",";}> div:first-child{margin:0;&::before{display:",";color:",";content:'â†³';text-decoration:none !important;}}> div:first-child{margin-left:",";&::before{display:",";color:",";content:'â†³';text-decoration:none !important;}}&:last-child{border-bottom:0;}","{text-align:left;}"],({isChildOrder:e,theme:n})=>e?h(.91,n.text1):"transparent",({theme:e})=>h(.9,e.bg1),({isChildOrder:e})=>e?"inline-block":"none",({theme:e})=>h(.5,e.text1),({isChildOrder:e})=>e?"5px":"",({isChildOrder:e})=>e?"inline-block":"none",({theme:e})=>h(.6,e.text3),on),ge=a.span.withConfig({displayName:"styled__CheckboxCheckmark",componentId:"sc-1g7qvxp-2"})(["display:flex;align-items:center;justify-content:center;position:absolute;background:transparent;width:100%;height:100%;height:var(--checkboxSize);width:var(--checkboxSize);top:-1px;bottom:0;&::after{content:'';position:absolute;display:none;left:0;right:0;top:0;bottom:0;margin:auto;width:31%;height:66%;border:solid ",";border-width:0 2px 2px 0;transform:rotate(45deg);","}"],({theme:e})=>e.bg1,({theme:e})=>e.mediaWidth.upToSmall`
      border-width: 0 3px 3px 0;
    `),it=a.input.withConfig({displayName:"styled__TableRowCheckbox",componentId:"sc-1g7qvxp-3"})(["width:var(--checkboxSize);height:var(--checkboxSize);background:transparent;border:2px solid ",";border-radius:var(--checkBoxBorderRadius);appearance:none;margin:0;outline:0;&:checked{background-color:var(",");}&:checked + ","::after{display:block;}&:indeterminate{border-color:var(",");}&:indeterminate + ","::after{display:block;border:solid ",";border-width:2px 0 0 0;top:calc(50% + 3px);transform:none;","}&[disabled],&[disabled] + ","{cursor:default;}"],({theme:e})=>h(.5,e.text1),O.COLOR_TEXT1,ge,O.COLOR_TEXT1,ge,({theme:e})=>e.text1,({theme:e})=>e.mediaWidth.upToSmall`
      top: calc(50% + 4px);
    `,ge),Mn=a.label.withConfig({displayName:"styled__TableRowCheckboxWrapper",componentId:"sc-1g7qvxp-4"})(["width:var(--checkboxSize);height:var(--checkboxSize);display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer;&:hover > ",":not(:checked):not([disabled]){background:",";}"],it,({theme:e})=>h(.85,e.text1)),Nt=new Gt(-1),ya=a.span.withConfig({displayName:"EstimatedExecutionPrice__EstimatedExecutionPriceWrapper",componentId:"sc-rqchub-0"})(["display:flex;width:100%;align-items:center;justify-content:space-between;color:",";cursor:",";","{color:inherit;}","{padding:0 0 0 3px;svg{--size:18px;width:var(--size);height:var(--size);min-width:var(--size);min-height:var(--size);}}> div > div,> span{display:flex;align-items:center;}"],({hasWarning:e,theme:n})=>e?Xt(n.darkMode?0:.15,n.alert):"inherit",({showPointerCursor:e})=>e?"pointer":"default",_i,et),ba=a.span.withConfig({displayName:"EstimatedExecutionPrice__UnfillableLabel",componentId:"sc-rqchub-1"})(["width:100%;max-width:90px;background:",";color:",";position:relative;border-radius:9px;display:flex;align-items:center;justify-content:center;font-size:11px;font-weight:600;padding:6px 2px;margin:0 4px 0 0;letter-spacing:0.2px;text-transform:uppercase;"],({theme:e})=>h(.86,e.attention),({theme:e})=>Xt(.15,e.attention));function wa(e){const{isInverted:n,isUnfillable:o,canShowWarning:i,percentageDifference:s,amountDifference:r,percentageFee:l,amountFee:d,amount:c,...p}=e,x=n?s?.multiply(Nt):s,m=r?.lessThan(Z)?r.multiply(Nt):r,f=rs(x),g=i&&l?.greaterThan(ki),y=x?.lessThan(Z),j=n?!y:y,v=t.jsxs(t.Fragment,{children:[t.jsx(je,{status:f}),t.jsx(k,{amount:c,...p})]});return t.jsxs(ya,{hasWarning:!!g,showPointerCursor:!o,children:[o?t.jsx(ba,{children:"UNFILLABLE"}):m?t.jsx(Je,{wrap:!0,content:t.jsx(Ds,{children:y?t.jsx(t.Fragment,{children:"Will execute soon!"}):t.jsxs(t.Fragment,{children:["Market price needs to go ",j?"down ðŸ“‰":"up ðŸ“ˆ"," byÂ ",t.jsx("b",{children:t.jsx(k,{...p,amount:m,round:!1})}),"Â ",t.jsxs("span",{children:["(",t.jsxs("i",{children:[x?.toFixed(2),"%"]}),")"]}),"Â to execute your order."]})}),placement:"top",children:v}):t.jsx("span",{children:v}),g&&!y&&t.jsx(ja,{feePercentage:l,feeAmount:d})]})}function ja(e){const n=u.useContext(ye),{feePercentage:o,feeAmount:i}=e;return!o||!i?null:t.jsx(et,{hasBackground:!1,children:t.jsx(Je,{wrap:!0,bgColor:n.alert,content:t.jsxs(Cn,{children:[t.jsx("h3",{children:"Order unlikely to execute"}),"For this order, network fees would be ",t.jsxs("b",{children:[o?.toFixed(2),"%"]})," ",t.jsx("b",{children:t.jsxs("i",{children:["(",t.jsx(k,{amount:i,round:!1,tokenSymbol:i.currency}),")"]})})," ","of your sell amount! Therefore, your order is unlikely to execute."]}),placement:"bottom",children:t.jsx(ee,{src:gn,description:"Alert",width:"14",height:"13"})})})}const Ca=a(Ut).withConfig({displayName:"OrderContextMenu__ContextMenuButton",componentId:"sc-14oor5v-0"})(["background:none;border:0;outline:none;cursor:pointer;border-radius:8px;padding:0;margin:0;display:flex;height:24px;> svg{height:100%;width:auto;}&:hover{outline:1px solid ",";}"],({theme:e})=>h(.8,e.text1)),Ta=a(zt).withConfig({displayName:"OrderContextMenu__ContextMenuList",componentId:"sc-14oor5v-1"})(["background:",";border-radius:12px;overflow:hidden;position:relative;z-index:2;outline:none;min-width:240px;margin:10px 0;padding:16px;"],({theme:e})=>e.bg1),He=a(Vt).withConfig({displayName:"OrderContextMenu__ContextMenuItem",componentId:"sc-14oor5v-2"})(["padding:12px;border-radius:6px;margin:0;cursor:pointer;display:flex;gap:10px;align-items:center;font-size:15px;font-weight:500;color:",";&:hover{background:",";}"],({theme:e,$red:n})=>n?e.danger:e.text1,({theme:e})=>h(.8,e.text3)),Sa=a(He).withConfig({displayName:"OrderContextMenu__ContextMenuLink",componentId:"sc-14oor5v-3"})([""]);function va({openReceipt:e,activityUrl:n,showCancellationModal:o}){const i=u.useContext(ye);return t.jsxs(Ht,{children:[t.jsx(Ca,{children:t.jsx(to,{color:h(.5,i.text1)})}),t.jsxs(Ta,{children:[t.jsxs(He,{onSelect:e,children:[t.jsx(no,{size:16}),t.jsx("span",{children:"Order receipt"})]}),n&&t.jsxs(Sa,{as:"a",href:n,target:"_blank",children:[t.jsx(oo,{size:16}),t.jsx("span",{children:"View on explorer"})]}),o&&t.jsxs(He,{$red:!0,onSelect:()=>o(),children:[t.jsx(Dt,{size:16}),t.jsx("span",{children:"Cancel order"})]})]})]})}const Ia=new Gt(1);function Aa({referencePrice:e,targetPrice:n,isInverted:o}){return!n||!e||(Ei(e,n),e.equalTo(Z)||e.lessThan(Z)||n.lessThan(Z)||n.equalTo(Z))?null:Ot(o?{referencePrice:e.invert(),targetPrice:n.invert()}:{referencePrice:e,targetPrice:n})}function Ot({referencePrice:e,targetPrice:n}){const o=n.divide(e).subtract(Ia),i=new le(o.numerator,o.denominator),s=Te.fromPrice(n).subtract(Te.fromPrice(e)),r=Ni(s,0,e.quoteCurrency.decimals),l=q.fromFractionalAmount(e.quoteCurrency,r.numerator,r.denominator);return{percentage:i,amount:l}}const Pt=3e3;function Rt({amount:e}){return t.jsx(Os,{title:e.toExact()+" "+e.currency.symbol,children:t.jsx(k,{amount:e,tokenSymbol:e.currency})})}function Wt({amount:e}){return t.jsx(Fi,{currency:e.currency,size:"28px"})}function _a(e){const{symbol:n,isScheduled:o}=e;return t.jsxs(Tn,{children:[t.jsx("h3",{children:"Insufficient balance"}),t.jsxs("p",{children:["Your wallet currently has insufficient"," ",t.jsx("strong",{children:t.jsx(J,{token:{symbol:n}})})," ","balance to execute this order.",t.jsx("br",{}),t.jsx("br",{}),o?t.jsxs(t.Fragment,{children:["If there are not enough funds for this order by creation time, this part won't be created. Top up your"," ",t.jsx("strong",{children:t.jsx(J,{token:{symbol:n}})})," ","balance before then to have it created."]}):t.jsxs(t.Fragment,{children:["The order is still open and will become executable when you top up your"," ",t.jsx("strong",{children:t.jsx(J,{token:{symbol:n}})})," ","balance."]})]})]})}function ka(e){const{symbol:n,isScheduled:o}=e;return t.jsxs(Tn,{children:[t.jsx("h3",{children:"Insufficient approval for this order"}),t.jsx("p",{children:o?t.jsxs(t.Fragment,{children:["You havenâ€™t given CoW Swap sufficient allowance to spend"," ",t.jsx("strong",{children:t.jsx(J,{token:{symbol:n}})}),".",t.jsx("br",{}),"If there's not enough allowance for this order by creation time, this part won't be created. Approve"," ",t.jsx("strong",{children:t.jsx(J,{token:{symbol:n}})})," ","in your account token page before then to have it created."]}):t.jsxs(t.Fragment,{children:["This order is still open and valid, but you haven't given CoW Swap sufficient allowance to spend"," ",t.jsx("strong",{children:t.jsx(J,{token:{symbol:n}})}),".",t.jsx("br",{}),"The order will become executable when you approve"," ",t.jsx("strong",{children:t.jsx(J,{token:{symbol:n}})})," ","in your account token page."]})})]})}function qe({order:e,isRateInverted:n,isOpenOrdersTab:o,isRowSelectable:i,isRowSelected:s,isChild:r,orderActions:l,orderParams:d,onClick:c,prices:p,spotPrice:x,children:m}){const{buyAmount:f,rateInfoParams:g,hasEnoughAllowance:y,hasEnoughBalance:j,chainId:v}=d,{creationTime:b,expirationTime:S,status:C}=e,{filledPercentDisplay:W,executedPrice:I}=e.executionData,{inputCurrencyAmount:_,outputCurrencyAmount:z}=g,{estimatedExecutionPrice:U,feeAmount:w}=p||{},D=l.getShowCancellationModal(e),N=(!j||!y)&&(C===A.PENDING||C===A.SCHEDULED),E=u.useContext(ye),P=e.status===A.SCHEDULED,Re=P&&Date.now()>b.getTime(),Un=ze(S,Pt),Vn=ze(b,Pt),Hn=v?Oa(v,e):void 0,[oe,st]=u.useState(()=>{const We=Oi(v,_,z);return mt(We)===mt(_?.currency)}),ue=u.useCallback(()=>st(We=>!We),[]);u.useEffect(()=>{ue()},[n,ue]);const rt=oe?U?.invert():U,pe=oe?I?.invert():I,at=oe?x?.invert():x,lt=Ea(p,x,oe),qn=Na(g,p),ct=pe!==void 0&&pe?.equalTo(Z)||N,$n=Pi.includes(e.status),dt=e.inputToken.symbol||"";return t.jsxs(ga,{"data-id":e.id,isChildOrder:r,isOpenOrdersTab:o,isRowSelectable:i,children:[i&&o&&t.jsxs(Mn,{children:[t.jsx(it,{type:"checkbox",checked:s,disabled:Ri(e.inputToken.address)||!Wi(e),onChange:()=>l.toggleOrderForCancellation(e)}),t.jsx(ge,{})]}),t.jsxs(Rs,{children:[t.jsxs(Ps,{clickable:!0,onClick:c,children:[t.jsx(Wt,{amount:Be(e)}),t.jsx(Wt,{amount:f})]}),t.jsxs(Ws,{clickable:!0,onClick:c,children:[t.jsx(Rt,{amount:Be(e)}),t.jsx(Rt,{amount:f})]})]}),t.jsx(ce,{children:t.jsx(Es,{children:t.jsx(Qe,{prependSymbol:!1,isInvertedState:[oe,st],noLabel:!0,doNotUseSmartQuote:!0,isInverted:oe,rateInfoParams:g,opacitySymbol:!0})})}),o&&t.jsx(Fe,{onClick:ue,children:x?t.jsx(k,{amount:at,tokenSymbol:at?.quoteCurrency,opacitySymbol:!0}):x===null?"-":t.jsx(ht,{size:"14px",style:{margin:"0 0 -2px 7px"}})}),!o&&t.jsx(Fe,{onClick:ue,children:pe?t.jsx(k,{amount:pe,tokenSymbol:pe?.quoteCurrency,opacitySymbol:!0}):"-"}),o&&t.jsx(Fe,{hasBackground:!0,onClick:ue,children:p&&U?t.jsx(Fs,{children:t.jsx(wa,{amount:rt,tokenSymbol:rt?.quoteCurrency,opacitySymbol:!0,isInverted:oe,percentageDifference:lt?.percentage,amountDifference:lt?.amount,percentageFee:qn,amountFee:w,canShowWarning:e.class!==Ce.OrderClass.MARKET&&!ct,isUnfillable:ct})}):p===null||!U||$n?"-":t.jsx(ht,{size:"14px",style:{margin:"0 0 -2px 7px"}})}),o&&t.jsxs(ce,{doubleRow:!0,children:[t.jsx("b",{children:Un}),t.jsx("i",{children:Re?"Creating...":Vn})]}),t.jsxs(ce,{doubleRow:!0,clickable:!0,onClick:c,children:[t.jsxs("b",{children:[W,"%"]}),t.jsx(Sn,{value:W})]}),t.jsx(ce,{children:t.jsx(Ns,{children:m||t.jsxs(t.Fragment,{children:[t.jsx(vn,{order:e,withWarning:N,onClick:c}),N&&t.jsx(et,{children:t.jsx(Je,{wrap:!1,bgColor:E.alert,content:t.jsxs(Cn,{children:[!j&&t.jsx(_a,{symbol:dt,isScheduled:P}),!y&&t.jsx(ka,{symbol:dt,isScheduled:P})]}),placement:"bottom",children:t.jsx(ee,{src:gn,description:"Alert",width:"14",height:"13"})})})]})})}),t.jsx(ce,{children:t.jsx(va,{activityUrl:Hn,openReceipt:c,showCancellationModal:D})})]})}function Ea(e,n,o){const{estimatedExecutionPrice:i}=e||{};return yn(()=>Aa({referencePrice:n,targetPrice:i,isInverted:o}),[i,n,o])}function Na({inputCurrencyAmount:e},n){const{feeAmount:o}=n||{};return yn(()=>ts({value:o,reference:e}),[o,e])}function Oa(e,n){const{activityId:o}=n.executionData;if(!Li(n)&&!n.composableCowInfo?.isVirtualPart&&n.status!==A.SCHEDULED)return e&&o?sn(e,"transaction",o):void 0}const Pa=a.div.withConfig({displayName:"OrdersTablePagination__PaginationBox",componentId:"sc-xq0ni2-0"})(["width:100%;display:flex;overflow-x:auto;text-align:center;margin:20px auto 0;justify-content:center;font-size:14px;font-weight:500;",";"],({theme:e})=>e.mediaWidth.upToSmall`
    justify-content: flex-start;
  `),Bn=we`
  background: ${({theme:e,$active:n})=>n?h(.9,e.text3):"transparent"};
  color: ${({theme:e,$active:n})=>n?e.text1:h(.2,e.text1)};
  border: 0;
  outline: 0;
  padding: 5px 10px;
  border-radius: 4px;
  margin: 0 5px;
  cursor: pointer;
  transition: background 0.15s ease-in-out, color 0.15s ease-in-out;
  text-decoration: none;

  &:hover {
    background: ${({theme:e})=>e.bg1};
    color: var(${O.COLOR_TEXT1});
  }
`,Ra=a(Yt).withConfig({displayName:"OrdersTablePagination__PageButtonLink",componentId:"sc-xq0ni2-1"})(["",""],Bn),Wa=a.div.withConfig({displayName:"OrdersTablePagination__PageButton",componentId:"sc-xq0ni2-2"})(["",""],Bn);function zn({pageSize:e,totalCount:n,currentPage:o,getPageUrl:i,onPageChange:s,className:r}){const l=Math.ceil(n/e);return t.jsx(Pa,{className:r,children:[...new Array(l)].map((d,c)=>{const p=c+1;return s?t.jsx(Wa,{$active:p===o,onClick:()=>s(p),children:p},p):i?t.jsx(Ra,{$active:p===o,to:i(p),children:p},p):null})})}const La=new le(5,1e4);function $e(e,n,o){const i=q.fromRawAmount(o.inputToken,o.sellAmount.toString()),s=q.fromRawAmount(o.outputToken,o.buyAmount.toString()),r={chainId:e,inputCurrencyAmount:i,outputCurrencyAmount:s,activeRateFiatAmount:null,invertedActiveRateFiatAmount:null},{balances:l,allowances:d}=n,c=l[o.inputToken.address]?.value,p=d[o.inputToken.address]?.value;let x,m;if(o.partiallyFillable){const f=i.multiply(La);x=c===void 0||be(f,c),m=p===void 0||be(f,p)}else x=be(i,c),m=be(i,p);return{chainId:e,sellAmount:i,buyAmount:s,rateInfoParams:r,hasEnoughBalance:x,hasEnoughAllowance:m}}const Fa=a.div.withConfig({displayName:"TableGroup__GroupBox",componentId:"sc-14ukjhx-0"})([""]),Da=a(zn).withConfig({displayName:"TableGroup__Pagination",componentId:"sc-14ukjhx-1"})(["background:",";margin:0;padding:10px 0;"],({theme:e})=>h(.91,e.text1));function Ma(e){const{item:n,prices:o,spotPrice:i,isRateInverted:s,isOpenOrdersTab:r,isRowSelectable:l,isRowSelected:d,orderActions:c,chainId:p,balancesAndAllowances:x}=e,{parent:m,children:f}=n,[g,y]=u.useState(!0),[j,v]=u.useState(1),b=f.length,S=j*Y,C=f.slice(S-Y,S),W=m.status===A.PRESIGNATURE_PENDING,I={isRowSelectable:l,isOpenOrdersTab:r,spotPrice:i,prices:o,isRateInverted:s,orderActions:c};return t.jsxs(Fa,{children:[u.createElement(qe,{...I,key:m.id,isRowSelected:d,order:m,orderParams:$e(p,x,m),onClick:()=>c.selectReceiptOrder(m)},W?void 0:t.jsxs(Ms,{onClick:()=>y(_=>!_),isCollapsed:g,children:[b&&t.jsxs("i",{children:[b," part",b>1&&"s"]}),t.jsx("button",{})]})),!g&&t.jsxs("div",{children:[C.map(_=>u.createElement(qe,{...I,key:_.id,isChild:!0,isRowSelected:!1,order:_,orderParams:$e(p,x,_),onClick:()=>c.selectReceiptOrder(_)})),b>Y&&t.jsx(Da,{pageSize:Y,totalCount:b,currentPage:j,onPageChange:v})]})]})}const Ba=a.div.withConfig({displayName:"OrdersTable__TableBox",componentId:"sc-181i662-0"})(["display:block;border-radius:16px;border:1px solid ",";padding:0;position:relative;overflow:hidden;background:",";backdrop-filter:blur(20px);",";"],({theme:e})=>h(.8,e.text3),({theme:e})=>h(.99,e.bg1),({theme:e})=>e.mediaWidth.upToLargeAlt`
    width: 100%;
    display: flex;
    flex-flow: column wrap;
  `),za=a.div.withConfig({displayName:"OrdersTable__TableInner",componentId:"sc-181i662-1"})(["display:block;width:inherit;height:inherit;padding:0;overflow-y:hidden;overflow-x:auto;",";"],({theme:e})=>e.colorScrollbar),H=a.div.withConfig({displayName:"OrdersTable__HeaderElement",componentId:"sc-181i662-2"})(["height:100%;padding:0 ",";font-size:12px;line-height:1.1;font-weight:500;display:flex;align-items:",";background:",";> span{display:flex;flex-flow:row wrap;align-items:center;}"," ","{opacity:0.5;transition:opacity 0.2s ease-in-out;&:hover{opacity:1;}}",""],({hasBackground:e})=>e?"10px":"0",({doubleRow:e})=>e?"flex-start":"center",({theme:e,hasBackground:n})=>n?h(.92,e.text3):"transparent",({doubleRow:e})=>e&&`
    flex-flow: column wrap;
    justify-content: center;
    gap: 2px;

    > i {
      opacity: 0.7;
    }
  `,Oe,({doubleRow:e})=>e&&`
    flex-flow: column wrap;
    gap: 2px;

    > i {
      opacity: 0.7;
    }
  `),Ua=a.div.withConfig({displayName:"OrdersTable__Rows",componentId:"sc-181i662-3"})(["display:block;",";",";"],({theme:e})=>e.colorScrollbar,({theme:e})=>e.mediaWidth.upToLargeAlt`
   display: flex;
   flex-flow: column wrap;
  `),Va=a(Di).withConfig({displayName:"OrdersTable__StyledInvertRateControl",componentId:"sc-181i662-4"})(["display:inline-flex;margin-left:5px;"]),Ha=a(qt).withConfig({displayName:"OrdersTable__StyledCloseIcon",componentId:"sc-181i662-5"})(["height:24px;width:24px;opacity:0.6;transition:opacity 0.3s ease-in-out;&:hover{cursor:pointer;opacity:1;}> line{stroke:var(",");}"],O.COLOR_TEXT1),qa=a.div.withConfig({displayName:"OrdersTable__OrdersExplainerBanner",componentId:"sc-181i662-6"})(["display:grid;background:",";width:100%;gap:16px;grid-template-columns:6.2fr 5.5fr 24px;grid-template-rows:minmax(90px,1fr);align-items:center;border-top:1px solid transparent;border-bottom:1px solid ",";padding:0 16px;"," > div{display:flex;align-items:center;gap:12px;> svg > path{fill:",";}> b{font-size:18px;font-weight:500;}}> span{display:flex;flex-flow:column wrap;}"],({theme:e})=>e.gradient1,({theme:e})=>h(.88,e.text3),({theme:e})=>e.mediaWidth.upToLargeAlt`
    width: fit-content;
    grid-template-columns: minmax(462px, 4fr) minmax(426px, 3.8fr) 24px;
  `,({theme:e})=>h(.5,e.text1));function $a({isOpenOrdersTab:e,selectedOrders:n,allowsOffchainSigning:o,chainId:i,orders:s,pendingOrdersPrices:r,balancesAndAllowances:l,getSpotPrice:d,orderActions:c,currentPageNumber:p}){const x=ke(),[m,f]=u.useState(!1),g=u.useRef(null),y=p*Y,j=s.slice(y-Y,y),v=u.useCallback(()=>{document.body.dispatchEvent(new Event("mousedown",{bubbles:!0}))},[]),b=o,S=u.useMemo(()=>n?n.reduce((w,D)=>(w[D.id]=!0,w),{}):{},[n]),[C,W]=u.useState(()=>{const w=localStorage.getItem("showOrdersExplainerBanner");return w!==null?w==="true":!0}),I=()=>{W(!1),localStorage.setItem("showOrdersExplainerBanner","false")};u.useEffect(()=>{localStorage.setItem("showOrdersExplainerBanner",C.toString())},[C]);const _=u.useMemo(()=>j.filter(w=>tn(ae(w))),[j]),z=u.useMemo(()=>_.length?_.every(w=>S[ae(w).id]):!1,[_,S]),U=u.useCallback(w=>Pe(x,{pageNumber:w}),[x]);return u.useEffect(()=>{const w=g.current;w&&(w.indeterminate=!!n.length&&!z,w.checked=z)},[z,n.length]),t.jsxs(t.Fragment,{children:[t.jsx(Ba,{children:t.jsxs(za,{onScroll:v,children:[t.jsxs(Dn,{isOpenOrdersTab:e,isRowSelectable:b,children:[b&&e&&t.jsx(H,{children:t.jsxs(Mn,{children:[t.jsx(it,{ref:g,disabled:_.length===0,type:"checkbox",onChange:w=>c.toggleOrdersForCancellation(w.target.checked?Fn(j):[])}),t.jsx(ge,{})]})}),t.jsx(H,{children:t.jsx(T,{id:"egwZ20"})}),t.jsxs(H,{children:[t.jsx("span",{children:t.jsx(T,{id:"qdtMn2"})}),t.jsx(Va,{onClick:()=>f(!m)})]}),e&&Mi.DISPLAY_EST_EXECUTION_PRICE&&t.jsxs(H,{doubleRow:!0,children:[t.jsx("span",{children:t.jsx(T,{id:"xnQ9nN",components:{0:t.jsx(he,{text:t.jsx(Le,{})})}})}),t.jsx("i",{children:t.jsx(T,{id:"CJskgb"})})]}),e&&t.jsx(H,{children:t.jsx("span",{children:t.jsx(T,{id:"CJskgb"})})}),e&&t.jsx(H,{hasBackground:!0,children:t.jsx("span",{children:t.jsx(T,{id:"pI+q5T",components:{0:t.jsx(he,{text:t.jsx(Le,{isOpenOrdersTab:e})})}})})}),!e&&t.jsx(H,{children:t.jsx("span",{children:t.jsx(T,{id:"2EwGlq",components:{0:t.jsx(he,{text:t.jsx(Le,{})})}})})}),e&&t.jsxs(H,{doubleRow:!0,children:[t.jsx(T,{id:"KnN1Tu"}),t.jsx("i",{children:t.jsx(T,{id:"d+F6q9"})})]}),t.jsx(H,{children:t.jsx(T,{id:"zZmf1N"})}),t.jsx(H,{children:t.jsx(T,{id:"uAQUqI"})}),t.jsx(H,{})]}),e&&C&&t.jsxs(qa,{children:[t.jsxs("div",{children:[t.jsx(ee,{src:fa,width:36,height:36}),t.jsxs("b",{children:["How close is my ",t.jsx("br",{})," order to executing?"]})]}),t.jsx("span",{children:bn()}),t.jsx(Ha,{onClick:I})]}),t.jsx(Ua,{children:j.map(w=>{const{inputToken:D,outputToken:N}=ae(w),E=d({chainId:i,sellTokenAddress:D.address,buyTokenAddress:N.address});if(ot(w)){const P=w;return t.jsx(qe,{isRowSelectable:b,isRowSelected:!!S[P.id],isOpenOrdersTab:e,order:P,spotPrice:E,prices:r[P.id],orderParams:$e(i,l,P),isRateInverted:m,orderActions:c,onClick:()=>c.selectReceiptOrder(P)},P.id)}else return t.jsx(Ma,{item:w,chainId:i,balancesAndAllowances:l,isRowSelectable:b,isRowSelected:!!S[w.parent.id],isOpenOrdersTab:e,spotPrice:E,prices:r[w.parent.id],isRateInverted:m,orderActions:c},w.parent.id)})})]})}),s.length>Y&&t.jsx(zn,{getPageUrl:U,pageSize:Y,totalCount:s.length,currentPage:p})]})}const Ga=a.div.withConfig({displayName:"OrdersTabs__Tabs",componentId:"sc-1nuehq5-0"})(["display:inline-block;border-radius:9px;overflow:hidden;margin:0;border:1px solid ",";",";"],({theme:e})=>h(.8,e.text3),({theme:e})=>e.mediaWidth.upToMedium`
    width: 100%;
    display: grid;
    grid-template-columns: 1fr 1fr;
  `),Xa=a(Yt).withConfig({displayName:"OrdersTabs__TabButton",componentId:"sc-1nuehq5-1"})(["display:inline-block;background:",";color:",";font-weight:",";text-decoration:none;font-size:13px;padding:10px 24px;border:0;outline:none;cursor:pointer;transition:background 0.15s ease-in-out,color 0.2s ease-in-out;",";&:hover{background:",";color:var(",");}"],({theme:e,active:n})=>n==="true"?h(.88,e.text3):"transparent",({theme:e,active:n})=>n==="true"?e.text1:h(.2,e.text1),({active:e})=>e==="true"?"600":"400",({theme:e})=>e.mediaWidth.upToMedium`
    text-align: center;
  `,({theme:e})=>e.bg1,O.COLOR_TEXT1);function Ya({tabs:e}){const n=ke(),o=Math.max(e.findIndex(i=>i.isActive),0);return t.jsx(Ga,{children:e.map((i,s)=>t.jsxs(Xa,{active:(s===o).toString(),to:Pe(n,{tabId:i.id,pageNumber:1}),children:[t.jsx(T,{id:"J/hVSQ",values:{0:i.title}})," ",t.jsxs("span",{children:["(",i.count,")"]})]},s))})}const Qa=a.div.withConfig({displayName:"OrdersTableContainer__OrdersBox",componentId:"sc-150a8sk-0"})(["background:transparent;border-radius:16px;padding:0;min-height:200px;width:100%;"]),Lt=a.div.withConfig({displayName:"OrdersTableContainer__Content",componentId:"sc-150a8sk-1"})(["display:flex;flex-flow:column wrap;align-items:center;justify-content:center;border-radius:16px;border:1px solid ",";min-height:490px;padding:0;> span{--size:130px;width:var(--size);height:var(--size);border-radius:var(--size);display:flex;align-items:center;justify-content:center;margin:0 0 16px;background:",";transform:rotate(0);transition:transform 5s cubic-bezier(0.68,-0.55,0.27,1.55);&:hover{transform:rotate(360deg);}> img,> svg{max-width:100%;max-height:100%;width:100%;height:100%;object-fit:contain;display:inline;padding:16px;}> svg{padding:28px;fill:",";}}> h3{font-size:26px;line-height:1.2;font-weight:500;margin:0 auto 16px;text-align:center;}> p{font-size:15px;line-height:1.4;margin:0 auto 21px;font-weight:400;text-align:center;color:",";}","{margin:0 auto;}"],({theme:e})=>h(.8,e.text3),({theme:e})=>h(.8,e.text3),({theme:e})=>h(.3,e.text1),({theme:e})=>h(.3,e.text1),Bi),Ka=a.div.withConfig({displayName:"OrdersTableContainer__Header",componentId:"sc-150a8sk-2"})(["display:grid;grid-template-columns:150px 1fr;align-items:center;gap:3px;width:100%;margin:0 0 24px;",";> h2{font-size:24px;margin:0;}"],({theme:e})=>e.mediaWidth.upToMedium`
    display: block;
    text-align: center;

    > h2 {
      margin-bottom: 15px!important;
    }
  `),Za=a.div.withConfig({displayName:"OrdersTableContainer__TabsContainer",componentId:"sc-150a8sk-3"})(["display:flex;align-items:center;justify-content:flex-end;",";"],({theme:e,withSingleChild:n})=>!n&&e.mediaWidth.upToMedium`
      flex-direction: column-reverse;
      align-items: end;
      gap: 10px;
  `),Ja=a.span.withConfig({displayName:"OrdersTableContainer__ExternalArrow",componentId:"sc-150a8sk-4"})(["display:inline-block;&::after{content:' â†—';display:inline-block;padding:0 0 0 1px;font-weight:bold;font-size:11px;}"]);var Ge;(function(e){e.LIMIT="limit",e.ADVANCED="advanced"})(Ge||(Ge={}));function el({chainId:e,orders:n,tabs:o,isWalletConnected:i,isSafeViaWc:s,displayOrdersOnlyForSafeApp:r,selectedOrders:l,isOpenOrdersTab:d,allowsOffchainSigning:c,balancesAndAllowances:p,orderActions:x,currentPageNumber:m,pendingOrdersPrices:f,getSpotPrice:g,children:y,orderType:j}){const v=()=>i?n.length===0?t.jsxs(Lt,{children:[t.jsx("span",{children:t.jsx("img",{src:ma,alt:"Cow meditating ..."})}),t.jsx("h3",{children:t.jsx(T,{id:"J/hVSQ",values:{0:d?"No open orders":"No orders history"}})}),t.jsx("p",{children:r&&s?t.jsx(T,{id:"zGBbV3",values:{0:d?"open orders":"orders history"},components:{0:t.jsx(hn,{})}}):t.jsxs(t.Fragment,{children:[t.jsx(T,{id:"kP+nMw",values:{0:d?"open":""}})," ",t.jsx("br",{}),t.jsx(T,{id:"G/ycRP"})," ",j===Ge.LIMIT?t.jsxs(de,{href:"https://cow-protocol.medium.com/how-to-user-cow-swaps-surplus-capturing-limit-orders-24324326dc9e",children:[t.jsx(T,{id:"zwWKhA"}),t.jsx(Ja,{})]}):null]})})]}):t.jsx($a,{isOpenOrdersTab:d,allowsOffchainSigning:c,selectedOrders:l,pendingOrdersPrices:f,currentPageNumber:m,chainId:e,orders:n,balancesAndAllowances:p,getSpotPrice:g,orderActions:x}):t.jsxs(Lt,{children:[t.jsx("span",{children:t.jsx(ee,{src:ha,description:"connect wallet"})}),t.jsx("h3",{children:t.jsx(T,{id:"GdzYJ9"})}),t.jsx("p",{children:t.jsx(T,{id:"KVHoE0",values:{orderType:j},components:{0:t.jsx("br",{})}})}),t.jsx(zi,{})]});return t.jsxs(Qa,{children:[t.jsxs(Ka,{children:[t.jsx("h2",{children:"Your Orders"}),t.jsxs(Za,{withSingleChild:!y,children:[y||t.jsx("div",{}),t.jsx(Ya,{tabs:o})]})]}),v()]})}function Ft(e,n){return n===Se.id?e.pending:e.history}function tl(e,n){return e.find(i=>i.id===n.id)?e.filter(i=>i.id!==n.id):[...e,n]}const nl=a.div.withConfig({displayName:"OrdersTableWidget__ContentWrapper",componentId:"sc-11xcc12-0"})(["width:100%;"]);function Rl({orders:e,orderType:n,displayOrdersOnlyForSafeApp:o}){const{chainId:i,account:s}=ne(),r=ke(),l=$t(),d=Ui(),c=pa(e),{allowsOffchainSigning:p}=Jt(),x=F(Vi),m=F(en),f=M(Ye),g=Hi(),y=sa(),j=fn(),v=u.useMemo(()=>i?qi[i]:void 0,[i]),{currentTabId:b,currentPageNumber:S}=u.useMemo(()=>{const E=Ln(r.search);return{currentTabId:E.tabId||Se.id,currentPageNumber:E.pageNumber||1}},[r.search]),C=u.useMemo(()=>Ft(c,b),[c,b]),W=u.useMemo(()=>wn.map(E=>({...E,isActive:E.id===b,count:Ft(c,E.id).length})),[b,c]),I=u.useMemo(()=>Se.id===b,[b]),_=u.useMemo(()=>(I?c.pending:[]).map(P=>ae(P).inputToken),[I,c.pending]),z=$i({account:s,spender:v,tokens:_}),U=u.useCallback(E=>{f(E)},[f]),w=u.useCallback(E=>{f(tl(m,E))},[m,f]),N={getShowCancellationModal:u.useCallback(E=>{const P=e.find(Re=>Re.id===E.id);return P?d(P):null},[e,d]),selectReceiptOrder:y,toggleOrderForCancellation:w,toggleOrdersForCancellation:U};return u.useEffect(()=>{l(Pe(r,{pageNumber:S,tabId:b}),{replace:!0})},[]),xa(C.length,b,S),t.jsxs(t.Fragment,{children:[t.jsx(nl,{children:t.jsx(el,{chainId:i,tabs:W,orders:C,displayOrdersOnlyForSafeApp:o,isSafeViaWc:j,isOpenOrdersTab:I,currentPageNumber:S,pendingOrdersPrices:x,balancesAndAllowances:z,isWalletConnected:!!s,orderActions:N,getSpotPrice:g,selectedOrders:m,allowsOffchainSigning:p,orderType:n,children:I&&C.length&&t.jsx(ps,{pendingOrders:Fn(C)})})}),t.jsx(aa,{pendingOrdersPrices:x})]})}const Wl=a.div.withConfig({displayName:"TradePageLayout__PageWrapper",componentId:"sc-1tvb5ov-0"})(["width:100%;display:grid;max-width:1500px;margin:0 auto;grid-template-columns:"," 1fr;grid-column-gap:20px;",";> div:last-child{display:",";}"],({theme:e,isUnlocked:n})=>n?e.appBody.maxWidth.swap:"",({theme:e})=>e.mediaWidth.upToLargeAlt`
    display: flex;
    flex-flow: column wrap;
  `,({isUnlocked:e})=>e?"":"none"),Ll=a.div.withConfig({displayName:"TradePageLayout__PrimaryWrapper",componentId:"sc-1tvb5ov-1"})(["display:flex;flex-flow:column wrap;gap:16px;max-width:",";margin:0 auto;"],({theme:e})=>e.appBody.maxWidth.swap),Fl=a.div.withConfig({displayName:"TradePageLayout__SecondaryWrapper",componentId:"sc-1tvb5ov-2"})(["display:flex;width:100%;",";"],({theme:e})=>e.mediaWidth.upToLargeAlt`
    flex-flow: column wrap;
    margin: 56px 0;
  `);export{re as $,Il as A,Pl as B,me as C,hr as D,Cl as E,Al as F,pr as G,ml as H,B as I,pl as J,gl as K,vl as L,yl as M,St as N,Rl as O,Wl as P,wt as Q,It as R,ll as S,cl as T,al as U,_l as V,Tl as W,hl as X,se as Y,bl as Z,jl as _,es as a,wl as a0,Qr as a1,Zi as b,ts as c,dl as d,rl as e,Ll as f,Fl as g,Ge as h,mr as i,An as j,fl as k,Sl as l,te as m,Pr as n,dr as o,xr as p,kl as q,ul as r,xl as s,fr as t,sl as u,El as v,Nl as w,lr as x,kn as y,Ol as z};
