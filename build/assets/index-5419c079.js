


import{a4 as l,a5 as D,ae as re,bo as me,r as a,x as o,aq as W,g as ge,S as we,d2 as ve,b7 as Te,v as ye,aK as Ce,a3 as be}from"./vendor-35db3a09.js";import{dc as je,U as B,dH as ke,dI as ae,ai as ie,e as q,dJ as $,a1 as le,aW as ce,dK as _e,dL as de,dM as Ie,aV as Ae,aX as Ne,dN as Se,dO as Ee,bU as Oe,dP as Le,dQ as Me,az as P,dR as K,dS as pe,T as Re,dT as Ve,dU as Pe,bV as ze,dk as Y,dV as We,dW as Be,dX as Fe,dY as Ke,dZ as Ue,d_ as Xe,d$ as He,bH as Qe,e0 as De,e1 as Ge,dn as $e,dp as Je,e2 as qe,e3 as Ye,e4 as Ze,e5 as eo,e6 as oo,e7 as to,e8 as no,e9 as so,ea as ro,eb as ao,cu as io,ec as lo,P as co}from"./index-a8951d67.js";import{u as ue,a as po}from"./useTransactionConfirmationModal-61803418.js";const uo=l.input.withConfig({displayName:"styled__TokenSearchInput",componentId:"sc-oaprge-0"})(["margin:0;font-size:14px;max-width:280px;width:100%;align-self:flex-end;box-shadow:none;background:",";border:1px solid ",";border-radius:21px;transition:background 0.2s ease-in-out,max-width 0.2s ease-in-out;appearance:none;height:44px;padding:0 16px;outline:0;&:focus{max-width:500px;background:",";outline:0;",";}&::placeholder{font-size:14px !important;color:",";}&:focus::placeholder{color:",";}",";",";"],({theme:e})=>e.grey1,({theme:e})=>e.bg1,({theme:e})=>e.bg1,({theme:e})=>e.mediaWidth.upToMedium`
      width: 100%;
    `,({theme:e})=>D(.5,e.darkMode?e.white:e.text1),({theme:e})=>D(.3,e.darkMode?e.white:e.text1),({theme:e})=>e.mediaWidth.upToMedium`
    max-width: 100%;
  `,({theme:e})=>e.mediaWidth.upToSmall`
    font-size: 12px !important;

    &::placeholder {
      font-size: 12px !important;
    }
  `),ho=l.div.withConfig({displayName:"styled__Wrapper",componentId:"sc-oaprge-1"})(["width:100%;border:none;padding:0;background:",";border-radius:16px;display:grid;"],({theme:e})=>e.bg1);l(re).withConfig({displayName:"styled__LinkWrapper",componentId:"sc-oaprge-2"})(["text-decoration:none;padding:0.8rem 0;display:flex;align-items:center;:hover{cursor:pointer;opacity:0.7;}"]);const xo=l(je).withConfig({displayName:"styled__ResponsiveLogo",componentId:"sc-oaprge-3"})(["width:28px;height:28px;border-radius:28px;background:",";color:","!important;",";"],({theme:e})=>e.bg1,({theme:e})=>e.text1,({theme:e})=>e.mediaWidth.upToMedium`
    width: 21px;
    height: 21px;
    border-radius: 21px;
  `),X=l.div.withConfig({displayName:"styled__Label",componentId:"sc-oaprge-4"})(["display:flex;font-size:inherit;font-weight:400;justify-content:",";color:",";align-items:center;font-variant-numeric:tabular-nums;word-break:break-all;overflow:hidden;font-size:13px;> span{display:flex;align-items:center;max-width:inherit;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}> span > b{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:100%;font-weight:500;display:inline-block;}> span > i{opacity:0.6;margin:0 0 0 4px;font-style:normal;display:inline-block;text-transform:uppercase;}"],({end:e})=>e?"flex-end":"flex-start",({theme:e})=>D(.1,e.text1)),Z=l(X).withConfig({displayName:"styled__ClickableText",componentId:"sc-oaprge-5"})(["text-align:end;user-select:none;",""],({disabled:e})=>!e&&`
    &:hover {
      cursor: pointer;
      opacity: 0.6;
    }
  `),fo=l.div.withConfig({displayName:"styled__PageButtons",componentId:"sc-oaprge-6"})(["width:100%;display:flex;align-items:center;justify-content:center;margin:24px auto;"]),mo=l.span.withConfig({displayName:"styled__PaginationText",componentId:"sc-oaprge-7"})(["font-size:13px;white-space:nowrap;",";"],({theme:e})=>e.mediaWidth.upToMedium`
    font-size: 15px;
  `),H=l.button.withConfig({displayName:"styled__ArrowButton",componentId:"sc-oaprge-8"})(["background:none;border:none;"]),Q=l.div.withConfig({displayName:"styled__Arrow",componentId:"sc-oaprge-9"})(["color:var(",");opacity:",";padding:0 10px;user-select:none;",";",""],B.COLOR_TEXT1,e=>e.faded?.3:1,({theme:e})=>e.mediaWidth.upToExtraSmall`
    padding: 5px;
  `,({faded:e})=>!e&&`
    :hover {
      cursor: pointer;
    }
  `);l.div.withConfig({displayName:"styled__Break",componentId:"sc-oaprge-10"})(["height:1px;background-color:",";width:100%;"],({theme:e})=>e.bg5);const he=l.div.withConfig({displayName:"styled__Row",componentId:"sc-oaprge-11"})(["width:100%;display:grid;grid-gap:16px;grid-template-columns:62px 430px repeat(2,100px) 1fr;padding:16px;justify-content:flex-start;align-items:center;background:transparent;transition:background 0.2s ease-in-out;"," &:hover{background:",";}"],({theme:e})=>e.mediaWidth.upToMedium`
    width: auto;
    grid-template-columns: 62px 330px repeat(2,150px) 200px;
  `,({theme:e})=>e.grey1),go=l(he).withConfig({displayName:"styled__TableHeader",componentId:"sc-oaprge-12"})(["border-bottom:1px solid ",";&:hover{background:transparent;}","{opacity:0.75;}"],({theme:e})=>e.grey1,X),U=l.div.withConfig({displayName:"styled__Cell",componentId:"sc-oaprge-13"})(["display:flex;gap:8px;&:nth-child(1n){gap:0;}&:nth-child(5n){gap:10px;display:flex;flex-flow:row wrap;> span{white-space:nowrap;}}> a{text-decoration-color:transparent;transition:text-decoration-color 0.2s ease-in-out;overflow:hidden;display:flex;color:var(",");&:hover{color:var(",");text-decoration-color:var(",");}}"],B.COLOR_TEXT1,B.COLOR_TEXT1,B.COLOR_TEXT1),wo=l.span.withConfig({displayName:"styled__IndexNumber",componentId:"sc-oaprge-14"})(["font-size:14px;font-weight:400;"]),G=l.span.withConfig({displayName:"styled__BalanceValue",componentId:"sc-oaprge-15"})(["color:",";font-weight:500;font-size:14px;white-space:nowrap;max-width:100%;overflow:hidden;text-overflow:ellipsis;"],({hasBalance:e,theme:t})=>e?t.text1:D(.3,t.text1)),J=l(ke).withConfig({displayName:"styled__TableButton",componentId:"sc-oaprge-16"})(["font-size:14px;padding:0;width:auto;font-weight:400;transition:color 0.15s ease-in-out,opacity 0.15s ease-in-out;background:transparent;color:",";white-space:nowrap;position:relative;opacity:0.7;&:hover{background:transparent;text-decoration:underline;opacity:1;}> svg{width:16px;height:16px;max-width:100%;max-height:100%;> path{fill:var(",");}}",";",";"],({theme:e,color:t})=>t||e.text1,B.COLOR_TEXT1,({theme:e,outlined:t,color:n})=>t&&`
      background: transparent;
      color: ${n||e.text1};
      border: 1px solid ${n||e.text1};
      :hover {
        color: white;
      }
  `,({theme:e,text:t,color:n})=>t&&`
      background: none;
      border: none;
      color: ${n||e.text1};
      padding: 0;

      :hover {
        background: none;
      }
  `),vo=l.div.withConfig({displayName:"styled__Table",componentId:"sc-oaprge-17"})(["display:flex;flex-flow:column wrap;overflow-y:auto;overflow-y:overlay;width:100%;min-height:400px;font-size:14px;align-items:center;text-align:left;border:0;padding:0;background:transparent;transition:background 0.1s ease-in-out;",";",";"],({theme:e})=>e.colorScrollbar,({theme:e})=>e.mediaWidth.upToSmall`
    min-height: 250px;
  `),To=l.div.withConfig({displayName:"styled__TokenText",componentId:"sc-oaprge-18"})(["display:flex;align-items:center;text-align:left;margin:0 0 0 12px;font-size:16px;display:flex;align-items:center;font-variant-numeric:tabular-nums;> span{display:flex;flex-flow:column wrap;align-items:center;justify-content:flex-start;max-width:inherit;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;gap:2px;}> span > b{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;font-weight:600;display:inline-block;}> span > i{opacity:0.6;font-style:normal;font-size:14px;font-weight:500;width:100%;display:inline-block;}",";"],({theme:e})=>e.mediaWidth.upToSmall`
    font-size: 13px;
  `),ee=l.span.withConfig({displayName:"styled__ApproveLabel",componentId:"sc-oaprge-19"})(["color:",";font-weight:500;"],({theme:e,color:t})=>t||e.text1),yo=l.div.withConfig({displayName:"styled__CustomLimit",componentId:"sc-oaprge-20"})(["> span:last-child{cursor:default;font-size:10px;margin-top:5px;display:block;}"]),Co=l(X).withConfig({displayName:"styled__IndexLabel",componentId:"sc-oaprge-21"})(["padding:0;"]),bo=l.div.withConfig({displayName:"styled__FiatValue",componentId:"sc-oaprge-22"})(["display:flex;align-items:center;"]),jo=l(me).withConfig({displayName:"styled__InfoCircle",componentId:"sc-oaprge-23"})(["stroke:var(",");width:15px;height:15px;margin-left:5px;vertical-align:middle;margin-bottom:2px;"],B.COLOR_TEXT1),ko=l.div.withConfig({displayName:"styled__NoResults",componentId:"sc-oaprge-24"})(["color:inherit;min-height:400px;display:flex;align-items:center;",";> h3{font-size:24px;font-weight:500;margin:0 auto;",";}"],({theme:e})=>e.mediaWidth.upToSmall`
    min-height: 200px;
    margin: 0 auto 0 0;
    overflow-x: auto;
  `,({theme:e})=>e.mediaWidth.upToSmall`
      font-size: 16px;
      text-align: left;
      margin: 16px;
    `),oe=["COW","GNO"];function xe(e,t){return e&&t?e.greaterThan(t)?-1:e.equalTo(t)?0:1:e&&e.greaterThan("0")?-1:t&&t.greaterThan("0")?1:0}function _o(e){return function(n,s){const c=e[0][n.address]?.value,d=e[0][s.address]?.value,p=xe(c,d);if(p!==0)return p;const u=oe.indexOf(n.symbol||""),x=oe.indexOf(s.symbol||"");return u!==-1&&x!==-1?x<u?1:-1:u!==-1||x!==-1?x!==-1?1:-1:n.symbol&&s.symbol?n.symbol.toLowerCase()<s.symbol.toLowerCase()?-1:1:n.symbol||s.symbol?-1:0}}function Io(e){const t=ae(),n=a.useMemo(()=>_o(t??{}),[t]);return a.useMemo(()=>e?(s,c)=>n(s,c)*-1:n,[e,n])}function Ao(e,t){return a.useMemo(()=>{if(e.length===0||!t.length)return e;const n=ie(t),s=t.toLowerCase().split(/\+s/).filter(c=>c.length);return e.filter(c=>n?"address"in c&&n.toLowerCase()===c.address.toLowerCase():[c.name?.toLowerCase(),c.symbol?.toLowerCase()].some(d=>s.some(p=>d?.includes(p))))},[e,t])}const No="/assets/etherscan-icon-7359199d.svg";function So({balance:e}){const{account:t}=q(),n=e?.greaterThan(0),s=$();return e?o.jsx(G,{hasBalance:!!n,children:o.jsx(ce,{amount:e})}):t?o.jsx(le,{stroke:s.text3}):o.jsx(G,{hasBalance:!1,children:"0"})}const Eo=l(_e).withConfig({displayName:"FavouriteTokenButton__StyledButtonStar",componentId:"sc-139l6gj-0"})(["z-index:9;"]);function Oo({tokenData:e}){const t=de(),n=$(),s=Ie(),c=a.useCallback(p=>{p.preventDefault(),s(e)},[s,e]),d=a.useMemo(()=>t.some(p=>p.address===e.address),[t,e]);return o.jsx(Eo,{stroke:n.text1,fill:d?n.text1:void 0,onClick:c})}function Lo({balance:e}){const t=e?.greaterThan(0),n=Ae(e).value;return o.jsx(G,{hasBalance:!!t,children:n?o.jsx(Ne,{amount:n,accurate:!0}):o.jsxs(bo,{children:[o.jsx("span",{children:"$ 0.00"}),o.jsx(Se,{text:o.jsx(W,{id:"+xzjbB"}),children:o.jsx(jo,{size:"20",color:"white"})})]})})}const Mo=({tokenData:e,index:t,balance:n,closeModals:s,openTransactionConfirmationModal:c,toggleWalletModal:d})=>{const{account:p,chainId:u=ge.SupportedChainId.MAINNET}=q(),x=Ee(),f=$(),m=a.useCallback(({symbol:i,address:A})=>{const V=x(i)?A:i;return Oe({chainId:u.toString(),inputCurrencyId:V,outputCurrencyId:void 0},ze.SWAP)},[x,u]),h=u?Y[u]:void 0,y=Le(e,p??void 0,h),[g,C]=a.useState(!1),{handleSetError:j,handleCloseError:w}=ue(),T=u?Y[u]:void 0,S=we.fromRawAmount(e,ve),L=y?.equalTo(0)?void 0:n,{approvalState:v,approve:k}=Me({openTransactionConfirmationModal:c,closeModals:s,spender:T,amountToApprove:S,amountToCheckAgainstAllowance:L}),M=P(v),_=a.useCallback(async()=>{if(w(),!p){d();return}try{C(!0);const i=`Approve ${e?.symbol||"token"}`;await k({modalMessage:i,transactionSummary:i})}catch(i){console.error("[TokensTableRow]: Issue approving.",i),j(i?.message)}finally{C(!1)}},[p,k,w,j,d,e?.symbol]),b=v===K.APPROVED,F=v===K.PENDING,E=!b&&(g||F),I=!n||n?.equalTo(0),O=!y||y.equalTo(0),R=a.useMemo(()=>!n&&p?o.jsx(le,{stroke:f.text3}):I?o.jsx(G,{hasBalance:!1,children:"0"}):o.jsx(Lo,{balance:n}),[p,n,I,f]),r=a.useMemo(()=>E?o.jsx(pe,{}):!b&&!O?o.jsxs(yo,{children:[o.jsx(J,{onClick:_,color:f.text1,children:"Approve all"}),o.jsxs(ee,{color:f.green1,children:["Approved:"," ",o.jsx("strong",{children:o.jsx(ce,{amount:y})})]})]}):!b||O?o.jsx(J,{onClick:_,color:f.text1,children:"Approve"}):o.jsx(ee,{color:f.green1,children:"Approved ✓"}),[y,_,b,E,O,f.green1,f.text1]);return a.useEffect(()=>{v===K.PENDING?C(!0):M===K.PENDING&&v===K.NOT_APPROVED&&C(!1)},[v,M,g]),o.jsxs(o.Fragment,{children:[o.jsxs(U,{children:[o.jsx(Oo,{tokenData:e}),o.jsx(wo,{children:t+1})]}),o.jsx(U,{children:o.jsxs(re,{to:m(e),children:[o.jsx(xo,{currency:e}),o.jsx(To,{children:o.jsxs("span",{children:[o.jsx("b",{children:o.jsx(Re,{token:e})}),o.jsx("i",{children:e.name})]})})]})}),o.jsx(U,{children:o.jsx(So,{balance:n})}),o.jsx(U,{children:R}),o.jsxs(U,{children:[o.jsx(Ve,{href:Pe(u,"token",e.address),children:o.jsx(J,{children:o.jsx(Te,{src:No,title:"View token contract",description:"View token contract"})})}),r]})]})},Ro=Mo,te=20;var z;(function(e){e.NAME="name",e.BALANCE="balance"})(z||(z={}));var ne;(function(e){e.OVERVIEW="OVERVIEW",e.FAVOURITE="FAVOURITE"})(ne||(ne={}));function Vo({tokensData:e=[],maxItems:t=te,balances:n,page:s,setPage:c,query:d,prevQuery:p,debouncedQuery:u}){const x=We(),f=a.useRef(null);a.useEffect(()=>{s!==1&&p&&!d&&c(1)},[d,s,c,p]);const m=Ao(e,u),[h,y]=a.useState(null),[g,C]=a.useState(!0),j=Io(!1),w=a.useCallback((r,i)=>(r?-1:1)*(i?-1:1),[]),[T,S]=a.useState(1),L=s===1?s:s-1,v=s===T?s:s+1,k=P(s),M=a.useCallback(r=>(s-1)*te+r,[s]),{ErrorModal:_}=ue(),{TransactionConfirmationModal:b,openModal:F,closeModal:E}=po(Be.APPROVE_TOKEN),I=a.useMemo(()=>m?m.filter(r=>!!r).sort((r,i)=>{if(h)if(h===z.BALANCE){if(!n)return 0;const A=n[0][r.address]?.value,V=n[0][i.address]?.value,fe=xe(A,V);return w(fe>0,g)}else{const A=r[h],V=i[h];return!A||!V?0:w(A>V,g)}else return j(r,i)}).slice(t*(s-1),s*t):[],[m,t,s,h,j,n,w,g]),O=a.useCallback(r=>{let i;h===r&&g===!1?(r=null,i=!0):h===null?i=!0:h===r?i=!g:i=!0,y(r),C(i)},[g,h]),R=a.useCallback(r=>h===r?g?"↓":"↑":"",[g,h]);return a.useEffect(()=>{let r=1;m&&(m.length%t===0&&(r=0),S(Math.floor(m.length/t)+r))},[t,m]),a.useEffect(()=>{k!==s&&f.current&&(f.current.scrollLeft=0)},[s,k]),o.jsxs(ho,{id:"tokens-table",children:[o.jsx(_,{}),o.jsx(b,{}),o.jsxs(o.Fragment,{children:[o.jsxs(vo,{ref:f,children:[o.jsxs(go,{children:[o.jsx(Co,{children:"#"}),o.jsx(Z,{onClick:()=>O(z.NAME),children:o.jsx(W,{id:"YDffHx",values:{0:R(z.NAME)}})}),o.jsx(Z,{disabled:!0,children:o.jsx(W,{id:"HKcxl2",values:{0:R(z.BALANCE)}})}),o.jsx(X,{children:"Value"}),o.jsx(X,{children:"Actions"})]}),m&&I.length!==0?I.map((r,i)=>r?o.jsx(he,{children:o.jsx(Ro,{toggleWalletModal:x,balance:n&&n[0][r.address]?.value,openTransactionConfirmationModal:F,closeModals:E,index:M(i),tokenData:r},r.address)},r.address):null):o.jsx(ko,{children:o.jsx("h3",{children:"No results found ¯\\_(ツ)_/¯"})})]}),m&&I.length!==0&&o.jsxs(fo,{children:[o.jsx(H,{onClick:()=>c(1),children:o.jsx(Q,{faded:s===1,children:"<<"})}),o.jsx(H,{onClick:()=>c(L),children:o.jsx(Q,{faded:s===1,children:"←"})}),o.jsx(mo,{children:o.jsx(W,{id:"J/hVSQ",values:{0:"Page "+s+" of "+T}})}),o.jsx(H,{onClick:()=>c(v),children:o.jsx(Q,{faded:s===T,children:"→"})}),o.jsx(H,{onClick:()=>c(T),children:o.jsx(Q,{faded:s===T,children:">>"})})]})]})]})}var N;(function(e){e.ALL_TOKENS="ALL_TOKENS",e.FAVORITE_TOKENS="FAVORITE_TOKENS"})(N||(N={}));const se={[N.ALL_TOKENS]:{label:"All tokens"},[N.FAVORITE_TOKENS]:{label:"Favorite tokens"}};function Bo(){Fe();const{chainId:e,account:t}=q(),{provider:n}=ye.useWeb3React(),[s,c]=a.useState(!1),[d,p]=a.useState(N.ALL_TOKENS),[u,x]=a.useState(1),f=P(e),m=P(d),h=P(t);a.useEffect(()=>{window.scrollTo(0,0)},[]);const y=$(),g=Ke(),C=de(),j=ae(),[w,T]=a.useState(""),S=Ue(w,300),L=P(S),v=Xe(),k=He(),M=a.useCallback(()=>{v(),x(1)},[v]),_=a.useMemo(()=>Object.values(g).filter(Qe),[g]),b=a.useCallback(()=>c(!s),[s]),F=a.useCallback(r=>{p(r),c(!1)},[]),E=a.useRef();De(E,s?b:void 0);const I=a.useCallback(()=>{let r=[];return d===N.ALL_TOKENS?r=_:d===N.FAVORITE_TOKENS&&(r=C),n?o.jsx(Vo,{page:u,query:w,prevQuery:L||"",debouncedQuery:S||"",setPage:x,balances:j,tokensData:r}):o.jsx(Ge,{children:o.jsx(pe,{size:"42px"})})},[j,S,C,_,u,L,n,w,d]),O=a.useCallback(r=>{const i=r.target.value.trim().toLowerCase(),A=ie(i);T(A||i),u!==1&&x(1)},[u,x]),R=a.useCallback(()=>{T("")},[]);return a.useEffect(()=>{(e!==f||d!==m||t!==h)&&x(1)},[t,e,h,f,m,d]),o.jsxs($e,{page:Je.ACCOUNT_TOKENS_PAGE,shouldLogImpression:!0,children:[!k&&o.jsxs(qe,{children:[o.jsx(Ye,{children:o.jsxs(Ze,{ref:E,children:[o.jsxs(eo,{onClick:b,children:[o.jsx(W,{id:"J/hVSQ",values:{0:se[d].label}}),o.jsx(oo,{size:14})]}),s?o.jsx(to,{children:Object.entries(se).map(([r,i])=>o.jsxs(no,{active:d===r,onClick:()=>F(r),children:[o.jsx("span",{children:i.label}),d===r?o.jsx(Ce,{size:20,color:y.green1}):null]},r))}):null]})}),d===N.FAVORITE_TOKENS&&o.jsx(so,{onClick:M,children:o.jsxs("span",{children:["(",o.jsx(W,{id:"iXJ0po"}),")"]})}),o.jsxs(ro,{children:[o.jsx(uo,{type:"text",id:"token-search-input",placeholder:be._({id:"HhQXQL"}),autoComplete:"off",value:w,onChange:O}),!!w.length&&o.jsx(ao,{children:o.jsx(io,{size:24,onClick:R})})]})]}),o.jsxs(lo,{children:[o.jsx(co,{title:"Tokens Overview"}),k?"Unsupported network":I()]})]})}export{Bo as default};
