


import{d4 as h,cS as a,d5 as l}from"./vendor-35db3a09.js";import{f1 as o}from"./index-a8951d67.js";async function b(s,i=0,t=100){const e=await K(s);return e?v(e,i,t).map(n=>n.address):null}class y{constructor(i,t=0,e=100){this.parentDerivedKeyInfo=i,this.offset=t,this.limit=e,this.index=0}next(){const i=this.parentDerivedKeyInfo.baseDerivationPath,t=this.offset+this.index,e=`m/${i}/${t}`,r=`m/${t}`,n=this.parentDerivedKeyInfo.hdKey.derive(r),u={address:c(n),hdKey:n,baseDerivationPath:i,derivationPath:e},f=this.index===this.limit;return this.index++,{done:f,value:u}}[Symbol.iterator](){return this}}const d=new Map;async function K(s){if(d.has(s))return d.get(s)||null;const i=await s.getPublicKey({path:o});if(!i.success)return null;const t=i.payload,e=new h;e.publicKey=new a.Buffer(t.publicKey,"hex"),e.chainCode=new a.Buffer(t.chainCode,"hex");const r=c(e),n={hdKey:e,address:r,derivationPath:o,baseDerivationPath:o.slice(2)};return d.set(s,n),n}function v(s,i,t){const e=[],r=new y(s,i,t);for(const n of r)e.push(n);return e}function c(s){const t=s.publicKey;return"0x"+l.publicToAddress(t,!0).toString("hex").toLowerCase()}export{b as getAccountsList};
